"use strict";var ApplicationConfiguration=function(){var applicationModuleName="piwi",applicationModuleVendorDependencies=["ngResource","ngAnimate","ngMessages","ngSanitize","ui.router","ui.bootstrap","ui.utils","angularFileUpload","ui.bootstrap","ui.select"],registerModule=function(moduleName,dependencies){angular.module(moduleName,dependencies||[]),angular.module(applicationModuleName).requires.push(moduleName)};return{applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:applicationModuleVendorDependencies,registerModule:registerModule}}();
"use strict";angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider","$httpProvider",function($locationProvider,$httpProvider){$locationProvider.html5Mode(!0).hashPrefix("!"),$httpProvider.interceptors.push("authInterceptor")}]),angular.module(ApplicationConfiguration.applicationModuleName).run(["$rootScope","$state","Authentication",function($rootScope,$state,Authentication){$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){if(toState.data&&toState.data.roles&&toState.data.roles.length>0){var allowed=!1;toState.data.roles.forEach(function(role){return void 0!==Authentication.user.roles&&-1!==Authentication.user.roles.indexOf(role)?(allowed=!0,!0):void 0}),allowed||(event.preventDefault(),void 0!==Authentication.user&&"object"==typeof Authentication.user?$state.go("forbidden"):$state.go("authentication.signin"))}}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){fromState.data&&fromState.data.ignoreState||($state.previous={state:fromState,params:fromParams,href:$state.href(fromState,fromParams)})})}]),angular.element(document).ready(function(){if(window.location.hash&&"#_=_"===window.location.hash)if(window.history&&history.pushState)window.history.pushState("",document.title,window.location.pathname);else{var scroll={top:document.body.scrollTop,left:document.body.scrollLeft};window.location.hash="",document.body.scrollTop=scroll.top,document.body.scrollLeft=scroll.left}angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])});
"use strict";ApplicationConfiguration.registerModule("articles");
"use strict";ApplicationConfiguration.registerModule("companies");
"use strict";ApplicationConfiguration.registerModule("core"),ApplicationConfiguration.registerModule("core.admin",["core"]),ApplicationConfiguration.registerModule("core.admin.routes",["ui.router"]);
"use strict";ApplicationConfiguration.registerModule("products");
"use strict";ApplicationConfiguration.registerModule("purchases");
"use strict";ApplicationConfiguration.registerModule("users",["core"]),ApplicationConfiguration.registerModule("users.admin",["core.admin"]),ApplicationConfiguration.registerModule("users.admin.routes",["core.admin.routes"]);
"use strict";ApplicationConfiguration.registerModule("reports");
"use strict";angular.module("articles").run(["Menus",function(Menus){}]);
"use strict";angular.module("articles").config(["$stateProvider",function($stateProvider){$stateProvider.state("articles",{"abstract":!0,url:"/articles",template:"<ui-view/>"}).state("articles.list",{url:"",templateUrl:"modules/articles/client/views/list-articles.client.view.html"}).state("articles.create",{url:"/create",templateUrl:"modules/articles/client/views/create-article.client.view.html",data:{roles:["user","admin"]}}).state("articles.view",{url:"/:articleId",templateUrl:"modules/articles/client/views/view-article.client.view.html"}).state("articles.edit",{url:"/:articleId/edit",templateUrl:"modules/articles/client/views/edit-article.client.view.html",data:{roles:["user","admin"]}})}]);
"use strict";angular.module("articles").controller("ArticlesController",["$scope","$stateParams","$location","Authentication","Articles",function($scope,$stateParams,$location,Authentication,Articles){$scope.authentication=Authentication,$scope.create=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","articleForm"),!1;var article=new Articles({title:this.title,content:this.content});article.$save(function(response){$location.path("articles/"+response._id),$scope.title="",$scope.content=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(article){if(article){article.$remove();for(var i in $scope.articles)$scope.articles[i]===article&&$scope.articles.splice(i,1)}else $scope.article.$remove(function(){$location.path("articles")})},$scope.update=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","articleForm"),!1;var article=$scope.article;article.$update(function(){$location.path("articles/"+article._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.articles=Articles.query()},$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId})}}]);
"use strict";angular.module("articles").factory("Articles",["$resource",function($resource){return $resource("api/articles/:articleId",{articleId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("companies").run(["Menus",function(Menus){Menus.addMenuItem("topbar",{title:"Companies",state:"companies",type:"dropdown",roles:["*"]}),Menus.addSubMenuItem("topbar","companies",{title:"List Companies",state:"companies.list"}),Menus.addSubMenuItem("topbar","companies",{title:"Create Companies",state:"companies.create",roles:["admin"]})}]);
"use strict";angular.module("companies").config(["$stateProvider",function($stateProvider){$stateProvider.state("companies",{"abstract":!0,url:"/companies",template:"<ui-view/>"}).state("companies.list",{url:"",templateUrl:"modules/companies/client/views/list-companies.client.view.html"}).state("companies.create",{url:"/create",templateUrl:"modules/companies/client/views/create-company.client.view.html",data:{roles:["admin"]}}).state("companies.view",{url:"/:companyId",templateUrl:"modules/companies/client/views/view-company.client.view.html"}).state("companies.edit",{url:"/:companyId/edit",templateUrl:"modules/companies/client/views/edit-company.client.view.html",data:{roles:["admin"]}})}]);
"use strict";angular.module("companies").controller("CompaniesController",["$scope","$stateParams","$location","Authentication","Companies","CompanyPurchases",function($scope,$stateParams,$location,Authentication,Companies,CompanyPurchases){$scope.authentication=Authentication,$scope.create=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","companyForm"),!1;var company=new Companies({name:this.name,description:this.description});company.$save(function(response){$location.path("companies/"+response._id),$scope.name="",$scope.description=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(company){if(company){company.$remove();for(var i in $scope.companies)$scope.companies[i]===company&&$scope.companies.splice(i,1)}else $scope.company.$remove(function(){$location.path("companies")})},$scope.update=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","companyForm"),!1;var company=$scope.company;company.$update(function(){$location.path("companies/"+company._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.companies=Companies.query()},$scope.findOne=function(){$scope.company=Companies.get({companyId:$stateParams.companyId})},$scope.findPurchases=function(){$scope.purchases=CompanyPurchases.query({compurId:$stateParams.companyId})}}]);
"use strict";angular.module("companies").factory("Companies",["$resource",function($resource){return $resource("api/companies/:companyId",{companyId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("companies").factory("CompanyPurchases",["$resource",function($resource){return $resource("api/company-purchases/:compurId",{companyId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("core.admin").run(["Menus",function(Menus){Menus.addMenuItem("topbar",{title:"Admin",state:"admin",type:"dropdown",roles:["admin"]})}]);
"use strict";angular.module("core.admin.routes").config(["$stateProvider",function($stateProvider){$stateProvider.state("admin",{"abstract":!0,url:"/admin",template:"<ui-view/>",data:{roles:["admin"]}})}]);
"use strict";angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise(function($injector,$location){$injector.get("$state").transitionTo("not-found",null,{location:!1})}),$stateProvider.state("home",{url:"/",templateUrl:"modules/core/client/views/home.client.view.html"}).state("not-found",{url:"/not-found",templateUrl:"modules/core/client/views/404.client.view.html",data:{ignoreState:!0}}).state("bad-request",{url:"/bad-request",templateUrl:"modules/core/client/views/400.client.view.html",data:{ignoreState:!0}}).state("forbidden",{url:"/forbidden",templateUrl:"modules/core/client/views/403.client.view.html",data:{ignoreState:!0}})}]);
"use strict";angular.module("core").controller("HeaderController",["$scope","$state","Authentication","Menus",function($scope,$state,Authentication,Menus){$scope.$state=$state,$scope.authentication=Authentication,$scope.menu=Menus.getMenu("topbar"),$scope.isCollapsed=!1,$scope.toggleCollapsibleMenu=function(){$scope.isCollapsed=!$scope.isCollapsed},$scope.$on("$stateChangeSuccess",function(){$scope.isCollapsed=!1})}]);
"use strict";angular.module("core").controller("HomeController",["$scope","Authentication","ProductsNew","PurchasesExpired","PurchasesExpires",function($scope,Authentication,ProductsNew,PurchasesExpired,PurchasesExpires){$scope.authentication=Authentication,$scope.findProducts=function(){$scope.newProducts=ProductsNew.query()},$scope.expiredPurchases=function(){$scope.expired=PurchasesExpired.query()},$scope.expiresPurchases=function(){$scope.expires=PurchasesExpires.query()}}]);
"use strict";angular.module("core").directive("showErrors",["$timeout","$interpolate",function($timeout,$interpolate){var linkFn=function(scope,el,attrs,formCtrl){var inputEl,inputName,inputNgEl,options,showSuccess,toggleClasses,initCheck=!1,showValidationMessages=!1;if(options=scope.$eval(attrs.showErrors)||{},showSuccess=options.showSuccess||!1,inputEl=el[0].querySelector(".form-control[name]")||el[0].querySelector("[name]"),inputNgEl=angular.element(inputEl),inputName=$interpolate(inputNgEl.attr("name")||"")(scope),!inputName)throw"show-errors element has no child input elements with a 'name' attribute class";var reset=function(){return $timeout(function(){el.removeClass("has-error"),el.removeClass("has-success"),showValidationMessages=!1},0,!1)};scope.$watch(function(){return formCtrl[inputName]&&formCtrl[inputName].$invalid},function(invalid){return toggleClasses(invalid)}),scope.$on("show-errors-check-validity",function(event,name){return angular.isUndefined(name)||formCtrl.$name===name?(initCheck=!0,showValidationMessages=!0,toggleClasses(formCtrl[inputName].$invalid)):void 0}),scope.$on("show-errors-reset",function(event,name){return angular.isUndefined(name)||formCtrl.$name===name?reset():void 0}),toggleClasses=function(invalid){return el.toggleClass("has-error",showValidationMessages&&invalid),showSuccess?el.toggleClass("has-success",showValidationMessages&&!invalid):void 0}};return{restrict:"A",require:"^form",compile:function(elem,attrs){if(-1===attrs.showErrors.indexOf("skipFormGroupCheck")&&!elem.hasClass("form-group")&&!elem.hasClass("input-group"))throw"show-errors element does not have the 'form-group' or 'input-group' class";return linkFn}}}]);
"use strict";angular.module("core").service("Menus",[function(){this.defaultRoles=["user","admin"],this.menus={};var shouldRender=function(user){if(~this.roles.indexOf("*"))return!0;if(!user)return!1;for(var userRoleIndex in user.roles)for(var roleIndex in this.roles)if(this.roles[roleIndex]===user.roles[userRoleIndex])return!0;return!1};this.validateMenuExistance=function(menuId){if(menuId&&menuId.length){if(this.menus[menuId])return!0;throw new Error("Menu does not exist")}throw new Error("MenuId was not provided")},this.getMenu=function(menuId){return this.validateMenuExistance(menuId),this.menus[menuId]},this.addMenu=function(menuId,options){return options=options||{},this.menus[menuId]={roles:options.roles||this.defaultRoles,items:options.items||[],shouldRender:shouldRender},this.menus[menuId]},this.removeMenu=function(menuId){this.validateMenuExistance(menuId),delete this.menus[menuId]},this.addMenuItem=function(menuId,options){if(options=options||{},this.validateMenuExistance(menuId),this.menus[menuId].items.push({title:options.title||"",state:options.state||"",type:options.type||"item","class":options["class"],roles:null===options.roles||"undefined"==typeof options.roles?this.defaultRoles:options.roles,position:options.position||0,items:[],shouldRender:shouldRender}),options.items)for(var i in options.items)this.addSubMenuItem(menuId,options.state,options.items[i]);return this.menus[menuId]},this.addSubMenuItem=function(menuId,parentItemState,options){options=options||{},this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].state===parentItemState&&this.menus[menuId].items[itemIndex].items.push({title:options.title||"",state:options.state||"",roles:null===options.roles||"undefined"==typeof options.roles?this.menus[menuId].items[itemIndex].roles:options.roles,position:options.position||0,shouldRender:shouldRender});return this.menus[menuId]},this.removeMenuItem=function(menuId,menuItemState){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].state===menuItemState&&this.menus[menuId].items.splice(itemIndex,1);return this.menus[menuId]},this.removeSubMenuItem=function(menuId,submenuItemState){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)for(var subitemIndex in this.menus[menuId].items[itemIndex].items)this.menus[menuId].items[itemIndex].items[subitemIndex].state===submenuItemState&&this.menus[menuId].items[itemIndex].items.splice(subitemIndex,1);return this.menus[menuId]},this.addMenu("topbar",{roles:["*"]})}]);
"use strict";angular.module("core").service("Socket",["Authentication","$state","$timeout",function(Authentication,$state,$timeout){this.connect=function(){Authentication.user&&(this.socket=io())},this.connect(),this.on=function(eventName,callback){this.socket&&this.socket.on(eventName,function(data){$timeout(function(){callback(data)})})},this.emit=function(eventName,data){this.socket&&this.socket.emit(eventName,data)},this.removeListener=function(eventName){this.socket&&this.socket.removeListener(eventName)}}]);
"use strict";angular.module("products").run(["Menus",function(Menus){Menus.addMenuItem("topbar",{title:"Products",state:"products",type:"dropdown",roles:["*"]}),Menus.addSubMenuItem("topbar","products",{title:"List Products",state:"products.list"}),Menus.addSubMenuItem("topbar","products",{title:"Create Products",state:"products.create",roles:["admin"]})}]);
"use strict";angular.module("products").config(["$stateProvider",function($stateProvider){$stateProvider.state("products",{"abstract":!0,url:"/products",template:"<ui-view/>"}).state("products.list",{url:"",templateUrl:"modules/products/client/views/list-products.client.view.html"}).state("products.create",{url:"/create",templateUrl:"modules/products/client/views/create-product.client.view.html",data:{roles:["admin"]}}).state("products.view",{url:"/:productId",templateUrl:"modules/products/client/views/view-product.client.view.html"}).state("products.edit",{url:"/:productId/edit",templateUrl:"modules/products/client/views/edit-product.client.view.html",data:{roles:["admin"]}})}]);
"use strict";angular.module("products").controller("ProductsController",["$scope","$stateParams","$location","Authentication","Products","Users","ProductPurchases",function($scope,$stateParams,$location,Authentication,Products,Users,ProductPurchases){$scope.authentication=Authentication,$scope.today=function(){return new Date},$scope.openedCreate=!1,$scope.openCreate=function($event){$scope.openedCreate=!0},$scope.addVersion=function(){var newVersion={label:"",released:new Date};$scope.product.versions.push(newVersion)},$scope.removeVersion=function(version){var idx=$scope.product.versions.indexOf(version);idx>-1&&$scope.product.versions.splice(idx,1)},$scope.create=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","productForm"),!1;var product=new Products({title:this.title,code:this.code,price:this.price,annualFee:this.annualFee,owner:this.selectedUser._id,versions:[{label:this.version,released:this.released}],description:this.description});product.$save(function(response){$location.path("products/"+response._id),$scope.title="",$scope.code="",$scope.price=0,$scope.annualFee=0,$scope.owner={},$scope.versions=[],$scope.description=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(product){if(product){product.$remove();for(var i in $scope.products)$scope.products[i]===product&&$scope.products.splice(i,1)}else $scope.product.$remove(function(){$location.path("products")})},$scope.update=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","productForm"),!1;var product=$scope.product;product.$update(function(){$location.path("products/"+product._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.products=Products.query()},$scope.findOne=function(){$scope.product=Products.get({productId:$stateParams.productId})},$scope.findUsers=function(){$scope.users=Users.query(function(){$scope.selectedUser=$scope.users[0]})},$scope.findPurchases=function(){$scope.purchases=ProductPurchases.query({propurId:$stateParams.productId})}}]);
!function(){"use strict";function editVersions(){return{restrict:"E",scope:{version:"=",notifyParent:"&removemethod",index:"="},bindToController:!0,templateUrl:"modules/products/client/views/edit-product-version.client.view.html",controllerAs:"vm",controller:function(){function remove(){vm.notifyParent()}function openDatePicker($event){vm.opened=!0}var vm=this;vm.version.released=new Date(vm.version.released),vm.remove=remove,vm.opened=!1,vm.open=openDatePicker}}}angular.module("products").directive("editVersions",editVersions)}();
"use strict";angular.module("products").factory("ProductPurchases",["$resource",function($resource){return $resource("api/product-purchases/:propurId",{productId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("products").factory("ProductsNew",["$resource",function($resource){return $resource("api/products-new/",{productId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("products").factory("Products",["$resource",function($resource){return $resource("api/products/:productId",{productId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("purchases").run(["Menus",function(Menus){Menus.addMenuItem("topbar",{title:"Purchases",state:"purchases",type:"dropdown",roles:["*"]}),Menus.addSubMenuItem("topbar","purchases",{title:"List Purchases",state:"purchases.list"}),Menus.addSubMenuItem("topbar","purchases",{title:"Create Purchases",state:"purchases.create",roles:["user"]})}]);
"use strict";angular.module("purchases").config(["$stateProvider",function($stateProvider){$stateProvider.state("purchases",{"abstract":!0,url:"/purchases",template:"<ui-view/>"}).state("purchases.list",{url:"",templateUrl:"modules/purchases/client/views/list-purchases.client.view.html"}).state("purchases.create",{url:"/create",templateUrl:"modules/purchases/client/views/create-purchase.client.view.html",data:{roles:["user","admin"]}}).state("purchases.view",{url:"/:purchaseId",templateUrl:"modules/purchases/client/views/view-purchase.client.view.html"}).state("purchases.edit",{url:"/:purchaseId/edit",templateUrl:"modules/purchases/client/views/edit-purchase.client.view.html",data:{roles:["user","admin"]}})}]);
!function(){"use strict";function editAnnualFee(){return{restrict:"E",scope:{annualFee:"=",notifyParent:"&removemethod",index:"="},bindToController:!0,templateUrl:"modules/purchases/client/views/edit-annual-fee.client.view.html",controllerAs:"vm",controller:function(){function remove(){vm.notifyParent()}function openDatePicker($event){vm.opened=!0}var vm=this;vm.annualFee.purchased=new Date(vm.annualFee.purchased),vm.remove=remove,vm.opened=!1,vm.open=openDatePicker}}}angular.module("purchases").directive("editAnnualFee",editAnnualFee)}();
!function(){"use strict";function setSssStatus(){return{restrict:"A",scope:{expires:"="},link:function(scope,element,attrs,controller){var today=(new Date).getTime(),expireDate=new Date(scope.expires).getTime(),tmpWarningDate=new Date(scope.expires);tmpWarningDate.setMonth(tmpWarningDate.getMonth()-3);var warningDate=new Date(tmpWarningDate.toString()).getTime(),dangerClass="list-group-item-danger",warningClass="list-group-item-warning",successClass="list-group-item-success";"table"===attrs.setSssStatus&&(dangerClass="danger",warningClass="warning",successClass="success"),today>expireDate?element.addClass(dangerClass):today>warningDate?element.addClass(warningClass):element.addClass(successClass)}}}angular.module("purchases").directive("setSssStatus",setSssStatus)}();
"use strict";angular.module("purchases").controller("PurchasesController",["$scope","$stateParams","$location","Authentication","Purchases","Products","Companies",function($scope,$stateParams,$location,Authentication,Purchases,Products,Companies){$scope.authentication=Authentication,$scope.today=function(){return new Date},$scope.onSelected=function(selectedItem){$scope.price=selectedItem.price,$scope.annualFee=.2*selectedItem.price},$scope.openedCreate=!1,$scope.openCreate=function($event){$scope.openedCreate=!0},$scope.addAnnualFee=function(){var newAnnualFee={fee:.2*$scope.selectedProduct.price,purchased:new Date};$scope.purchase.annualFees.push(newAnnualFee)},$scope.removeAnnualFee=function(annualFee){var idx=$scope.purchase.annualFees.indexOf(annualFee);idx>-1&&$scope.purchase.annualFees.splice(idx,1)},$scope.create=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","purchaseForm"),!1;var expireDate=new Date(this.purchased);expireDate.setFullYear(expireDate.getFullYear()+1);var purchase=new Purchases({product:this.selectedProduct._id,company:this.selectedCompany._id,price:this.price,annualFees:[{fee:this.annualFee,purchased:this.purchased,expires:expireDate}],description:this.description});purchase.$save(function(response){$location.path("purchases/"+response._id),$scope.product={},$scope.company={},$scope.price=0,$scope.annualFees=[],$scope.description=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(purchase){if(purchase){purchase.$remove();for(var i in $scope.purchases)$scope.purchases[i]===purchase&&$scope.purchases.splice(i,1)}else $scope.purchase.$remove(function(){$location.path("purchases")})},$scope.update=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","purchaseForm"),!1;var purchase=$scope.purchase;purchase.annualFees.forEach(function(element){var expireDate=new Date(element.purchased);expireDate.setFullYear(expireDate.getFullYear()+1),element.expires=expireDate},this),purchase.$update(function(){$location.path("purchases/"+purchase._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.purchases=Purchases.query()},$scope.findOne=function(){$scope.purchase=Purchases.get({purchaseId:$stateParams.purchaseId})},$scope.findProducts=function(){$scope.products=Products.query(function(){$scope.selectedProduct=$scope.products[0],$scope.price=$scope.selectedProduct.price,$scope.annualFee=.2*$scope.selectedProduct.price})},$scope.findCompanies=function(){$scope.companies=Companies.query(function(){$scope.selectedCompany=$scope.companies[0]})}}]);
"use strict";angular.module("purchases").factory("PurchasesExpired",["$resource",function($resource){return $resource("api/purchases-expired/",{purchaseId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("purchases").factory("PurchasesExpires",["$resource",function($resource){return $resource("api/purchases-expires/",{purchaseId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("purchases").factory("Purchases",["$resource",function($resource){return $resource("api/purchases/:purchaseId",{purchaseId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("users.admin").run(["Menus",function(Menus){Menus.addSubMenuItem("topbar","admin",{title:"Manage Users",state:"admin.users"})}]);
"use strict";angular.module("users.admin.routes").config(["$stateProvider",function($stateProvider){$stateProvider.state("admin.users",{url:"/users",templateUrl:"modules/users/client/views/admin/list-users.client.view.html",controller:"UserListController"}).state("admin.user",{url:"/users/:userId",templateUrl:"modules/users/client/views/admin/view-user.client.view.html",controller:"UserController",resolve:{userResolve:["$stateParams","Admin",function($stateParams,Admin){return Admin.get({userId:$stateParams.userId})}]}}).state("admin.user-edit",{url:"/users/:userId/edit",templateUrl:"modules/users/client/views/admin/edit-user.client.view.html",controller:"UserController",resolve:{userResolve:["$stateParams","Admin",function($stateParams,Admin){return Admin.get({userId:$stateParams.userId})}]}})}]);
"use strict";angular.module("users").config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push(["$q","$location","Authentication",function($q,$location,Authentication){return{responseError:function(rejection){switch(rejection.status){case 401:Authentication.user=null,$location.path("signin");break;case 403:}return $q.reject(rejection)}}}])}]);
"use strict";angular.module("users").config(["$stateProvider",function($stateProvider){$stateProvider.state("settings",{"abstract":!0,url:"/settings",templateUrl:"modules/users/client/views/settings/settings.client.view.html",data:{roles:["user","admin"]}}).state("settings.profile",{url:"/profile",templateUrl:"modules/users/client/views/settings/edit-profile.client.view.html"}).state("settings.password",{url:"/password",templateUrl:"modules/users/client/views/settings/change-password.client.view.html"}).state("settings.accounts",{url:"/accounts",templateUrl:"modules/users/client/views/settings/manage-social-accounts.client.view.html"}).state("settings.picture",{url:"/picture",templateUrl:"modules/users/client/views/settings/change-profile-picture.client.view.html"}).state("authentication",{"abstract":!0,url:"/authentication",templateUrl:"modules/users/client/views/authentication/authentication.client.view.html"}).state("authentication.signup",{url:"/signup",templateUrl:"modules/users/client/views/authentication/signup.client.view.html"}).state("authentication.signin",{url:"/signin?err",templateUrl:"modules/users/client/views/authentication/signin.client.view.html"}).state("password",{"abstract":!0,url:"/password",template:"<ui-view/>"}).state("password.forgot",{url:"/forgot",templateUrl:"modules/users/client/views/password/forgot-password.client.view.html"}).state("password.reset",{"abstract":!0,url:"/reset",template:"<ui-view/>"}).state("password.reset.invalid",{url:"/invalid",templateUrl:"modules/users/client/views/password/reset-password-invalid.client.view.html"}).state("password.reset.success",{url:"/success",templateUrl:"modules/users/client/views/password/reset-password-success.client.view.html"}).state("password.reset.form",{url:"/:token",templateUrl:"modules/users/client/views/password/reset-password.client.view.html"})}]);
"use strict";angular.module("users").controller("AuthenticationController",["$scope","$state","$http","$location","$window","Authentication",function($scope,$state,$http,$location,$window,Authentication){$scope.authentication=Authentication,$scope.error=$location.search().err,$scope.authentication.user&&$location.path("/"),$scope.signup=function(isValid){return $scope.error=null,isValid?void $http.post("/api/auth/signup",$scope.credentials).success(function(response){$scope.authentication.user=response,$state.go($state.previous.state.name||"home",$state.previous.params)}).error(function(response){$scope.error=response.message}):($scope.$broadcast("show-errors-check-validity","userForm"),!1)},$scope.signin=function(isValid){return $scope.error=null,isValid?void $http.post("/api/auth/signin",$scope.credentials).success(function(response){$scope.authentication.user=response,$state.go($state.previous.state.name||"home",$state.previous.params)}).error(function(response){$scope.error=response.message}):($scope.$broadcast("show-errors-check-validity","userForm"),!1)},$scope.callOauthProvider=function(url){$state.previous&&$state.previous.href&&(url+="?redirect_to="+encodeURIComponent($state.previous.href)),$window.location.href=url}}]);
"use strict";angular.module("users").controller("PasswordController",["$scope","$stateParams","$http","$location","Authentication",function($scope,$stateParams,$http,$location,Authentication){$scope.authentication=Authentication,$scope.authentication.user&&$location.path("/"),$scope.askForPasswordReset=function(){$scope.success=$scope.error=null,$http.post("/api/auth/forgot",$scope.credentials).success(function(response){$scope.credentials=null,$scope.success=response.message}).error(function(response){$scope.credentials=null,$scope.error=response.message})},$scope.resetUserPassword=function(){$scope.success=$scope.error=null,$http.post("/api/auth/reset/"+$stateParams.token,$scope.passwordDetails).success(function(response){$scope.passwordDetails=null,Authentication.user=response,$location.path("/password/reset/success")}).error(function(response){$scope.error=response.message})}}]);
"use strict";angular.module("users").directive("lowercase",function(){return{require:"ngModel",link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(input){return input?input.toLowerCase():""}),element.css("text-transform","lowercase")}}});
"use strict";angular.module("users").factory("Authentication",["$window",function($window){var auth={user:$window.user};return auth}]);
"use strict";angular.module("users").factory("Users",["$resource",function($resource){return $resource("api/users",{},{update:{method:"PUT"}})}]),angular.module("users.admin").factory("Admin",["$resource",function($resource){return $resource("api/users/:userId",{userId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("reports").run(["Menus",function(Menus){Menus.addMenuItem("topbar",{title:"Reports",state:"reports",type:"dropdown",roles:["admin"]}),Menus.addSubMenuItem("topbar","reports",{title:"List Reports",state:"reports.list",roles:["admin"]})}]);
"use strict";angular.module("reports").config(["$stateProvider",function($stateProvider){$stateProvider.state("reports",{"abstract":!0,url:"/reports",template:"<ui-view/>"}).state("reports.list",{url:"",templateUrl:"modules/reports/client/views/list-reports.client.view.html"}).state("reports.view",{url:"/:reportId",templateUrl:"modules/reports/client/views/view-report.client.view.html"})}]);
"use strict";angular.module("reports").controller("ReportsController",["$scope","$stateParams","$location","Authentication","Purchases",function($scope,$stateParams,$location,Authentication,Purchases){$scope.authentication=Authentication,$scope.reportByCompany=!1,$scope.getUberTotal=function(reports,calcFlag){var total=0;return reports.forEach(function(report){report.content.forEach(function(item){(1===calcFlag||3===calcFlag)&&(total+=item.price),(2===calcFlag||3===calcFlag)&&item.annualFees.forEach(function(annual){total+=annual.fee},this)},this)},this),total},$scope.getTotal=function(report,calcFlag){var total=0;return report.content.forEach(function(item){(1===calcFlag||3===calcFlag)&&(total+=item.price),(2===calcFlag||3===calcFlag)&&item.annualFees.forEach(function(annual){total+=annual.fee},this)},this),total},$scope.getSubTotal=function(item,calcFlag){var total=0;return(1===calcFlag||3===calcFlag)&&(total+=item.price),(2===calcFlag||3===calcFlag)&&item.annualFees.forEach(function(annual){total+=annual.fee},this),total},$scope.changeReport=function(){$scope.reportByCompany=!$scope.reportByCompany,$scope.reportByCompany?$scope.reports=_.chain($scope.purchases).sortBy(function(purchase){return purchase.company.name}).groupBy(function(purchase){return purchase.company.name}).pairs().map(function(purchase){return{header:purchase[0],content:purchase[1]}}).value():$scope.reports=_.chain($scope.purchases).sortBy(function(purchase){return purchase.product.title}).groupBy(function(purchase){return purchase.product.title}).pairs().map(function(purchase){return{header:purchase[0],content:purchase[1]}}).value()},$scope.find=function(){$scope.purchases=Purchases.query(function(){$scope.reports=_.chain($scope.purchases).sortBy(function(purchase){return purchase.product.title}).groupBy(function(purchase){return purchase.product.title}).pairs().map(function(purchase){return{header:purchase[0],content:purchase[1]}}).value()})},$scope.findOne=function(){$scope.purchase=Purchases.get({purchaseId:$stateParams.purchaseId})}}]);
"use strict";angular.module("reports").factory("Reports",["$resource",function($resource){return $resource("api/reports/:reportId",{reportId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";angular.module("core").factory("authInterceptor",["$q","$injector",function($q,$injector){return{responseError:function(rejection){if(!rejection.config.ignoreAuthModule)switch(rejection.status){case 401:$injector.get("$state").transitionTo("authentication.signin");break;case 403:$injector.get("$state").transitionTo("forbidden")}return $q.reject(rejection)}}}]);
"use strict";angular.module("users.admin").controller("UserListController",["$scope","$filter","Admin",function($scope,$filter,Admin){Admin.query(function(data){$scope.users=data,$scope.buildPager()}),$scope.buildPager=function(){$scope.pagedItems=[],$scope.itemsPerPage=15,$scope.currentPage=1,$scope.figureOutItemsToDisplay()},$scope.figureOutItemsToDisplay=function(){$scope.filteredItems=$filter("filter")($scope.users,{$:$scope.search}),$scope.filterLength=$scope.filteredItems.length;var begin=($scope.currentPage-1)*$scope.itemsPerPage,end=begin+$scope.itemsPerPage;$scope.pagedItems=$scope.filteredItems.slice(begin,end)},$scope.pageChanged=function(){$scope.figureOutItemsToDisplay()}}]);
"use strict";angular.module("users.admin").controller("UserController",["$scope","$state","Authentication","userResolve",function($scope,$state,Authentication,userResolve){$scope.authentication=Authentication,$scope.user=userResolve,$scope.remove=function(user){confirm("Are you sure you want to delete this user?")&&(user?(user.$remove(),$scope.users.splice($scope.users.indexOf(user),1)):$scope.user.$remove(function(){$state.go("admin.users")}))},$scope.update=function(isValid){if(!isValid)return $scope.$broadcast("show-errors-check-validity","userForm"),!1;var user=$scope.user;user.$update(function(){$state.go("admin.user",{userId:user._id})},function(errorResponse){$scope.error=errorResponse.data.message})}}]);
"use strict";angular.module("users").controller("ChangePasswordController",["$scope","$http","Authentication",function($scope,$http,Authentication){$scope.user=Authentication.user,$scope.changeUserPassword=function(isValid){return $scope.success=$scope.error=null,isValid?void $http.post("/api/users/password",$scope.passwordDetails).success(function(response){$scope.$broadcast("show-errors-reset","passwordForm"),$scope.success=!0,$scope.passwordDetails=null}).error(function(response){$scope.error=response.message}):($scope.$broadcast("show-errors-check-validity","passwordForm"),!1)}}]);
"use strict";angular.module("users").controller("ChangeProfilePictureController",["$scope","$timeout","$window","Authentication","FileUploader",function($scope,$timeout,$window,Authentication,FileUploader){$scope.user=Authentication.user,$scope.imageURL=$scope.user.profileImageURL,$scope.uploader=new FileUploader({url:"api/users/picture"}),$scope.uploader.filters.push({name:"imageFilter",fn:function(item,options){var type="|"+item.type.slice(item.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(type)}}),$scope.uploader.onAfterAddingFile=function(fileItem){if($window.FileReader){var fileReader=new FileReader;fileReader.readAsDataURL(fileItem._file),fileReader.onload=function(fileReaderEvent){$timeout(function(){$scope.imageURL=fileReaderEvent.target.result},0)}}},$scope.uploader.onSuccessItem=function(fileItem,response,status,headers){$scope.success=!0,$scope.user=Authentication.user=response,$scope.cancelUpload()},$scope.uploader.onErrorItem=function(fileItem,response,status,headers){$scope.cancelUpload(),$scope.error=response.message},$scope.uploadProfilePicture=function(){$scope.success=$scope.error=null,$scope.uploader.uploadAll()},$scope.cancelUpload=function(){$scope.uploader.clearQueue(),$scope.imageURL=$scope.user.profileImageURL}}]);
"use strict";angular.module("users").controller("EditProfileController",["$scope","$http","$location","Users","Authentication",function($scope,$http,$location,Users,Authentication){$scope.user=Authentication.user,$scope.updateUserProfile=function(isValid){if($scope.success=$scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","userForm"),!1;var user=new Users($scope.user);user.$update(function(response){$scope.$broadcast("show-errors-reset","userForm"),$scope.success=!0,Authentication.user=response},function(response){$scope.error=response.data.message})}}]);
"use strict";angular.module("users").controller("SocialAccountsController",["$scope","$http","Authentication",function($scope,$http,Authentication){$scope.user=Authentication.user,$scope.hasConnectedAdditionalSocialAccounts=function(provider){for(var i in $scope.user.additionalProvidersData)return!0;return!1},$scope.isConnectedSocialAccount=function(provider){return $scope.user.provider===provider||$scope.user.additionalProvidersData&&$scope.user.additionalProvidersData[provider]},$scope.removeUserSocialAccount=function(provider){$scope.success=$scope.error=null,$http["delete"]("/api/users/accounts",{params:{provider:provider}}).success(function(response){$scope.success=!0,$scope.user=Authentication.user=response}).error(function(response){$scope.error=response.message})}}]);
"use strict";angular.module("users").controller("SettingsController",["$scope","Authentication",function($scope,Authentication){$scope.user=Authentication.user}]);
!function(){"use strict";function templates($templateCache){$templateCache.put("modules/articles/views/create-article.client.view.html",'<section ng-controller="ArticlesController">\r\n  <div class="page-header">\r\n    <h1>New Article</h1>\r\n  </div>\r\n  <div class="col-md-12">\r\n    <form name="articleForm" class="form-horizontal" ng-submit="create(articleForm.$valid)" novalidate>\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="title">Title</label>\r\n          <input name="title" type="text" ng-model="title" id="title" class="form-control" placeholder="Title" required>\r\n          <div ng-messages="articleForm.title.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Article title is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group">\r\n          <label for="content">Content</label>\r\n          <textarea name="content" ng-model="content" id="content" class="form-control" cols="30" rows="10" placeholder="Content"></textarea>\r\n        </div>\r\n        <div class="form-group">\r\n          <input type="submit" class="btn btn-default">\r\n        </div>\r\n        <div ng-show="error" class="text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/articles/views/edit-article.client.view.html",'<section ng-controller="ArticlesController" ng-init="findOne()">\r\n  <div class="page-header">\r\n    <h1>Edit Article</h1>\r\n  </div>\r\n  <div class="col-md-12">\r\n    <form name="articleForm" class="form-horizontal" ng-submit="update(articleForm.$valid)" novalidate>\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="title">Title</label>\r\n          <input name="title" type="text" ng-model="article.title" id="title" class="form-control" placeholder="Title" required>\r\n          <div ng-messages="articleForm.title.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Article title is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group">\r\n          <label for="content">Content</label>\r\n          <textarea name="content" ng-model="article.content" id="content" class="form-control" cols="30" rows="10" placeholder="Content"></textarea>\r\n        </div>\r\n        <div class="form-group">\r\n          <input type="submit" value="Update" class="btn btn-default">\r\n        </div>\r\n        <div ng-show="error" class="text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/articles/views/list-articles.client.view.html",'<section ng-controller="ArticlesController" ng-init="find()">\r\n  <div class="page-header">\r\n    <h1>Articles</h1>\r\n  </div>\r\n  <div class="list-group">\r\n    <a ng-repeat="article in articles" ui-sref="articles.view({articleId: article._id})" class="list-group-item">\r\n      <small class="list-group-item-text">\r\n        Posted on\r\n        <span ng-bind="article.created | date:\'mediumDate\'"></span>\r\n        by\r\n        <span ng-bind="article.user.displayName"></span>\r\n      </small>\r\n      <h4 class="list-group-item-heading" ng-bind="article.title"></h4>\r\n      <p class="list-group-item-text" ng-bind="article.content"></p>\r\n    </a>\r\n  </div>\r\n  <div class="alert alert-warning text-center" ng-if="articles.$resolved && !articles.length">\r\n    No articles yet, why don\'t you <a ui-sref="articles.create">create one</a>?\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/articles/views/view-article.client.view.html",'<section ng-controller="ArticlesController" ng-init="findOne()">\r\n  <div class="page-header">\r\n    <h1 ng-bind="article.title"></h1>\r\n  </div>\r\n  <div class="pull-right" ng-show="authentication.user._id == article.user._id">\r\n    <a class="btn btn-primary" ui-sref="articles.edit({articleId: article._id})">\r\n      <i class="glyphicon glyphicon-edit"></i>\r\n    </a>\r\n    <a class="btn btn-primary" ng-click="remove();">\r\n      <i class="glyphicon glyphicon-trash"></i>\r\n    </a>\r\n  </div>\r\n  <small>\r\n    <em class="text-muted">\r\n      Posted on\r\n      <span ng-bind="article.created | date:\'mediumDate\'"></span>\r\n      by\r\n      <span ng-bind="article.user.displayName"></span>\r\n    </em>\r\n  </small>\r\n  <p class="lead" ng-bind="article.content"></p>\r\n</section>\r\n'),$templateCache.put("modules/companies/views/create-company.client.view.html",'<section ng-controller="CompaniesController">\r\n  <div class="page-header">\r\n    <h1>New Company</h1>\r\n  </div>\r\n  <div class="col-md-12">\r\n    <form name="companyForm" class="form-horizontal" ng-submit="create(companyForm.$valid)" novalidate>\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="name">Name</label>\r\n          <input name="name" type="text" ng-model="name" id="name" class="form-control" placeholder="Name" required>\r\n          <div ng-messages="companyForm.name.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Company name is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group">\r\n          <label for="description">Description</label>\r\n          <textarea name="description" ng-model="description" id="description" class="form-control" cols="30" rows="10" placeholder="Description"></textarea>\r\n        </div>\r\n        <div class="form-group">\r\n          <input type="submit" class="btn btn-default">\r\n        </div>\r\n        <div ng-show="error" class="text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/companies/views/edit-company.client.view.html",'<section ng-controller="CompaniesController" ng-init="findOne()">\r\n  <div class="page-header">\r\n    <h1>Edit Company</h1>\r\n  </div>\r\n  <div class="col-md-12">\r\n    <form name="companyForm" class="form-horizontal" ng-submit="update(companyForm.$valid)" novalidate>\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="name">Name</label>\r\n          <input name="name" type="text" ng-model="company.name" id="name" class="form-control" placeholder="Name" required>\r\n          <div ng-messages="companyForm.name.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Company name is required.</p>\r\n          </div>\r\n        </div>       \r\n        <div class="form-group">\r\n          <label for="description">Description</label>\r\n          <textarea name="description" ng-model="company.description" id="description" class="form-control" cols="30" rows="10" placeholder="Description"></textarea>\r\n        </div>\r\n        <div class="form-group">\r\n          <input type="submit" value="Update" class="btn btn-default">\r\n        </div>\r\n        <div ng-show="error" class="text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/companies/views/list-companies.client.view.html",'<section ng-controller="CompaniesController" ng-init="find()">\r\n  <div class="page-header">\r\n    <div class="row">\r\n      <div class="col-md-4">\r\n        <h1>Companies</h1>\r\n      </div>\r\n      <div class="col-md-4" style="margin-top: 2em">\r\n        <input class="form-control col-md-4" type="text" ng-model="search" placeholder="Search" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="list-group">\r\n    <a ng-repeat="company in companies | filter:search" ui-sref="companies.view({companyId: company._id})" class="charity list-group-item">\r\n      <h4 class="list-group-item-heading" ng-bind="company.name"></h4>     \r\n      <!--<p class="list-group-item-text" ng-bind="company.description"></p>-->\r\n    </a>\r\n  </div>\r\n  <div class="alert alert-warning text-center" ng-if="companies.$resolved && !companies.length">\r\n    No companies yet, why don\'t you <a ui-sref="companies.create">create one</a>?\r\n  </div>\r\n</section>'),$templateCache.put("modules/companies/views/view-company.client.view.html",'<section ng-controller="CompaniesController" ng-init="findOne(); findPurchases();">\r\n  <div class="page-header">\r\n    <h1 ng-bind="company.name"></h1>\r\n  </div>\r\n  <div class="pull-right" ng-show="authentication.user._id == company.createdBy._id">\r\n    <a class="btn btn-primary" ui-sref="companies.edit({companyId: company._id})">\r\n      <i class="glyphicon glyphicon-edit"></i>\r\n    </a>\r\n    <a class="btn btn-primary" ng-click="remove();">\r\n      <i class="glyphicon glyphicon-trash"></i>\r\n    </a>\r\n  </div>\r\n  <!--<small>\r\n    <em class="text-muted">\r\n      Posted on\r\n      <span ng-bind="company.created | date:\'mediumDate\'"></span>\r\n      by\r\n      <span ng-bind="company.createdBy.displayName"></span>\r\n    </em>\r\n  </small>-->\r\n  <div class="row" ng-if="company.description"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Description:</b></p>\r\n    </div>\r\n    <div class="col-md-2"> \r\n      <p class="lead">{{company.description}}</p>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class="row"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Products:</b></p>\r\n    </div>   \r\n  </div>\r\n   <div class="list-group">\r\n    <a ng-repeat="purchase in purchases | filter:search" ui-sref="purchases.view({purchaseId: purchase._id})" class="list-group-item" set-sss-status expires="purchase.annualFees[0].expires">\r\n      <small class="list-group-item-text pull-right">\r\n        Created on\r\n        <span ng-bind="purchase.created | date:\'mediumDate\'"></span>\r\n        by\r\n        <span ng-bind="purchase.createdBy.displayName"></span>\r\n      </small>\r\n     <h4 class="list-group-item-heading">\r\n        {{purchase.product.title}}\r\n      </h4>      \r\n      <p class="list-group-item-text">       \r\n        <b>Price:</b> {{purchase.price}}   \r\n        <b>Annual fee:</b> {{purchase.annualFees[0].fee}}          \r\n        <b>$$$ expires:</b> {{purchase.annualFees[0].expires | date:\'dd.MM.yyyy\'}}     \r\n      </p>\r\n    </a>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/core/views/400.client.view.html",'<h1>Bad Request</h1>\r\n<div class="alert alert-danger" role="alert">\r\n  <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\r\n  <span class="sr-only">Error:</span>\r\n  You made a bad request\r\n</div>\r\n'),$templateCache.put("modules/core/views/403.client.view.html",'<h1>Forbidden</h1>\r\n<div class="alert alert-danger" role="alert">\r\n  <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\r\n  <span class="sr-only">Error:</span>\r\n  You are not authorized to access this resource\r\n</div>\r\n'),$templateCache.put("modules/core/views/404.client.view.html",'<h1>Page Not Found</h1>\r\n<div class="alert alert-danger" role="alert">\r\n  <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\r\n  <span class="sr-only">Error:</span> Page Not Found\r\n</div>\r\n'),$templateCache.put("modules/core/views/header.client.view.html",'<div class="container" ng-controller="HeaderController">\r\n  <div class="navbar-header">\r\n    <button class="navbar-toggle" type="button" ng-click="toggleCollapsibleMenu()">\r\n      <span class="sr-only">Toggle navigation</span>\r\n      <span class="icon-bar"></span>\r\n      <span class="icon-bar"></span>\r\n      <span class="icon-bar"></span>\r\n    </button>\r\n    <a ui-sref="home" class="navbar-brand">PIWI</a>\r\n  </div>\r\n  <nav class="collapse navbar-collapse" collapse="!isCollapsed" role="navigation">\r\n    <ul class="nav navbar-nav" ng-if="menu.shouldRender(authentication.user);">\r\n      <li ng-repeat="item in menu.items | orderBy: \'position\'" ng-if="item.shouldRender(authentication.user);" ng-switch="item.type" ng-class="{ active: $state.includes(item.state), dropdown: item.type === \'dropdown\' }" class="{{item.class}}" dropdown="item.type === \'dropdown\'">\r\n        <a ng-switch-when="dropdown" class="dropdown-toggle" dropdown-toggle role="button">{{::item.title}}&nbsp;<span class="caret"></span></a>\r\n        <ul ng-switch-when="dropdown" class="dropdown-menu">\r\n          <li ng-repeat="subitem in item.items | orderBy: \'position\'" ng-if="subitem.shouldRender(authentication.user);" ui-sref-active="active">\r\n            <a ui-sref="{{subitem.state}}" ng-bind="subitem.title"></a>\r\n          </li>\r\n        </ul>\r\n        <a ng-switch-default ui-sref="{{item.state}}" ng-bind="item.title"></a>\r\n      </li>\r\n    </ul>\r\n    <ul class="nav navbar-nav navbar-right" ng-hide="authentication.user">\r\n      <li ui-sref-active="active">\r\n        <a ui-sref="authentication.signup">Sign Up</a>\r\n      </li>\r\n      <li class="divider-vertical"></li>\r\n      <li ui-sref-active="active">\r\n        <a ui-sref="authentication.signin">Sign In</a>\r\n      </li>\r\n    </ul>\r\n    <ul class="nav navbar-nav navbar-right" ng-show="authentication.user">\r\n      <li class="dropdown" dropdown>\r\n        <a class="dropdown-toggle user-header-dropdown-toggle" dropdown-toggle role="button">\r\n          <img ng-src="{{authentication.user.profileImageURL}}" alt="{{authentication.user.displayName}}" class="header-profile-image" />\r\n          <span ng-bind="authentication.user.displayName"></span> <b class="caret"></b>\r\n        </a>\r\n        <ul class="dropdown-menu" role="menu">\r\n          <li ui-sref-active="active">\r\n            <a ui-sref="settings.profile">Edit Profile</a>\r\n          </li>\r\n          <li ui-sref-active="active">\r\n            <a ui-sref="settings.picture">Change Profile Picture</a>\r\n          </li>\r\n          <li ui-sref-active="active" ng-show="authentication.user.provider === \'local\'">\r\n            <a ui-sref="settings.password">Change Password</a>\r\n          </li>\r\n          <li ui-sref-active="active">\r\n            <a ui-sref="settings.accounts">Manage Social Accounts</a>\r\n          </li>\r\n          <li class="divider"></li>\r\n          <li>\r\n            <a href="/api/auth/signout" target="_self">Signout</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</div>\r\n'),$templateCache.put("modules/core/views/home.client.view.html",'<section ng-controller="HomeController" ng-init="findProducts(); expiredPurchases(); expiresPurchases();">\r\n  <!--<div class="jumbotron text-center">-->\r\n    <!--<div class="row">\r\n      <div class="col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-12">\r\n        <div class="text-center">\r\n          <img alt="PIWI" class="img-responsive" width="30%" height="30%" src="modules/core/client/img/brand/piwi.png" />\r\n          <h1>PIWI</h1>\r\n        </div>\r\n      </div>\r\n    </div>-->\r\n    <!--<div class="media">\r\n      <div class="media-left">       \r\n          <img class="media-object" src="modules/core/client/img/brand/piwi.png" alt="PIWI">      \r\n      </div>\r\n      <div class="media-body">\r\n        <h4 class="media-heading">PIWI</h4>\r\n        Product Information Web Interface\r\n      </div>\r\n    </div>-->\r\n    <!--<h1>PIWI</h1>-->\r\n    <!--<br>    -->\r\n    <!--<h2><b> Product Information Web Interface</b></h2>-->\r\n      <!--<h2 class="small">\r\n        Product Information Web Interface\r\n      </h2>-->\r\n\r\n  <!--</div>-->\r\n\r\n  <section ng-if="expired.length">\r\n    <div class="page-header">     \r\n      <h3>Expired</h3>       \r\n    </div>\r\n    <div class="list-group">\r\n      <a ng-repeat="purchase in expired" ui-sref="purchases.view({purchaseId: purchase._id})" class="list-group-item" set-sss-status expires="purchase.annualFees[0].expires">\r\n        <small class="list-group-item-text pull-right">\r\n          Created on\r\n          <span ng-bind="purchase.created | date:\'mediumDate\'"></span>\r\n          by\r\n          <span ng-bind="purchase.createdBy.displayName"></span>\r\n        </small>\r\n        <h4 class="list-group-item-heading">\r\n          {{purchase.product.title}} - {{purchase.company.name}}\r\n        </h4>      \r\n        <p class="list-group-item-text">       \r\n          <b>Price:</b> {{purchase.price}}   \r\n          <b>Annual fee:</b> {{purchase.annualFees[0].fee}}          \r\n          <b>$$$ expires:</b> {{purchase.annualFees[0].expires | date:\'dd.MM.yyyy\'}}     \r\n        </p>\r\n      </a>\r\n    </div>\r\n  </section>\r\n  <section ng-if="expires.length">\r\n    <div class="page-header">     \r\n      <h3>Expires soon</h3>       \r\n    </div>\r\n    </div>\r\n    <div class="list-group">\r\n      <a ng-repeat="purchase in expires" ui-sref="purchases.view({purchaseId: purchase._id})" class="list-group-item" set-sss-status expires="purchase.annualFees[0].expires">\r\n        <small class="list-group-item-text pull-right">\r\n          Created on\r\n          <span ng-bind="purchase.created | date:\'mediumDate\'"></span>\r\n          by\r\n          <span ng-bind="purchase.createdBy.displayName"></span>\r\n        </small>\r\n        <h4 class="list-group-item-heading">\r\n          {{purchase.product.title}} - {{purchase.company.name}}\r\n        </h4>      \r\n        <p class="list-group-item-text">       \r\n          <b>Price:</b> {{purchase.price}}   \r\n          <b>Annual fee:</b> {{purchase.annualFees[0].fee}}          \r\n          <b>$$$ expires:</b> {{purchase.annualFees[0].expires | date:\'dd.MM.yyyy\'}}     \r\n        </p>\r\n      </a>\r\n    </div>\r\n  </section>\r\n  <section ng-if="newProducts.length">\r\n    <div class="page-header">     \r\n      <h3>New releases</h3>       \r\n    </div>\r\n    <div class="list-group">\r\n      <a ng-repeat="product in newProducts" ui-sref="products.view({productId: product._id})" class="list-group-item">\r\n        <h4 class="list-group-item-heading">\r\n          {{product.title}} \r\n          <span class="small">{{product.versions[product.versions.length - 1].label}}</span>\r\n          <span class="small pull-right">{{product.code}}</span>   \r\n        </h4> \r\n      </a>\r\n    </div>\r\n  </section>\r\n  <section ng-if="!expired.length && !expired.length && !newProducts.length">\r\n    <br/>\r\n    <div class="alert alert-warning text-center" >\r\n      No news to report!\r\n    </div>\r\n  </section>\r\n</section>\r\n'),$templateCache.put("modules/purchases/views/create-purchase.client.view.html",'<section ng-controller="PurchasesController" ng-init="findProducts(); findCompanies();">\r\n  <div class="page-header">\r\n    <h1>New Purchase</h1>\r\n  </div>\r\n  <div class="col-md-12">\r\n    <form name="purchaseForm" class="form-horizontal" ng-submit="create(purchaseForm.$valid)" novalidate>\r\n      <fieldset>\r\n        <div class="form-group">\r\n          <label for="product">Product</label>\r\n          <ui-select ng-model="$parent.selectedProduct" on-select="onSelected($item)">\r\n            <ui-select-match>\r\n              <span ng-bind="$select.selected.title"></span>\r\n            </ui-select-match>\r\n            <ui-select-choices repeat="product in (products | filter: $select.search) track by product._id">\r\n              <span ng-bind="product.title"></span>\r\n            </ui-select-choices>\r\n          </ui-select>        \r\n        </div>\r\n        \r\n        <div class="form-group">\r\n          <label for="company">Company</label>\r\n          <ui-select ng-model="$parent.selectedCompany">\r\n            <ui-select-match>\r\n              <span ng-bind="$select.selected.name"></span>\r\n            </ui-select-match>\r\n            <ui-select-choices repeat="company in (companies | filter: $select.search) track by company._id">\r\n              <span ng-bind="company.name"></span>\r\n            </ui-select-choices>\r\n          </ui-select>        \r\n        </div>\r\n        \r\n        <div class="form-group" show-errors>\r\n          <label for="price">Price</label>\r\n          <input name="price" type="number" ng-model="price" ng-change="annualFee = (price * 0.20)" id="price" class="form-control" placeholder="Product price" required>\r\n          <div ng-messages="productForm.price.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Product price is required.</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <div class="col-md-2">\r\n            <div class="form-group" show-errors>\r\n              <label for="annualFee">$$$</label>\r\n              <input name="annualFee" type="text" ng-model="annualFee" id="annualFee" class="form-control" placeholder="Annual fee" required>\r\n              <div ng-messages="productForm.annualFee.$error" role="alert">\r\n                <p class="help-block error-text" ng-message="required">Annual Fee is required.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-2">\r\n            <div class="form-group" show-errors>\r\n              <label for="purchased">Purchase date</label>\r\n              <p class="input-group">\r\n                <input name="purchased" type="text" ng-model="purchased" ng-init="purchased = today()" id="purchased" class="form-control" placeholder="Purchase date"  ng-required="true" uib-datepicker-popup="dd.MM.yyyy" is-open="openedCreate"  close-text="Close" />\r\n                <span class="input-group-btn">\r\n                  <button type="button" class="btn btn-default" ng-click="openCreate($event)"><i class="glyphicon glyphicon-calendar"></i></button>\r\n                </span>\r\n              </p>\r\n              <div ng-messages="productForm.released.$error" role="alert">\r\n                <p class="help-block error-text" ng-message="required">Release date is required.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>       \r\n        \r\n        <div class="form-group">\r\n          <label for="description">Comments</label>\r\n          <textarea name="description" ng-model="description" id="description" class="form-control" cols="30" rows="10" placeholder="Comments"></textarea>\r\n        </div>\r\n        <div class="form-group">\r\n          <input type="submit" class="btn btn-default">\r\n        </div>\r\n        <div ng-show="error" class="text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/purchases/views/edit-annual-fee.client.view.html",'<div class="row">\r\n  <div class="col-md-2">\r\n    <div class="form-group" show-errors>\r\n      <input name="annualFee{{vm.index}}" type="text" ng-model="vm.annualFee.fee" id="annualFee{{vm.index}}" class="form-control" placeholder="Annual fee" required />\r\n      <div ng-messages="productForm.annualFee.$error" role="alert">\r\n        <p class="help-block error-text" ng-message="required">Annual fee is required.</p>\r\n      </div>\r\n    </div>\r\n  </div>              \r\n  <div class="col-md-2">\r\n    <div class="form-group" show-errors>\r\n      <p class="input-group">\r\n        <input name="purchased{{vm.index}}" type="text" ng-model="vm.annualFee.purchased" id="purchased{{vm.index}}" class="form-control" placeholder="Purchase date" ng-required="true" uib-datepicker-popup="dd.MM.yyyy" is-open="vm.opened"  close-text="Close" />\r\n        <span class="input-group-btn">\r\n          <button type="button" class="btn btn-default" ng-click="vm.open($event)"><i class="glyphicon glyphicon-calendar"></i></button>\r\n        </span>\r\n      </p>\r\n      <div ng-messages="productForm.purchased.$error" role="alert">\r\n        <p class="help-block error-text" ng-message="required">Purchase date is required.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="col-md-1">\r\n    <input type="button" ng-click="vm.remove()" value="Remove" class="btn btn-default" />\r\n  </div>\r\n</div>'),$templateCache.put("modules/purchases/views/edit-purchase.client.view.html",'<section ng-controller="PurchasesController" ng-init="findOne(); findProducts(); findCompanies();">\r\n  <div class="page-header">\r\n    <h1>Edit Purchase</h1>\r\n  </div>\r\n  <div class="col-md-12">\r\n    <form name="purchaseForm" class="form-horizontal" ng-submit="update(purchaseForm.$valid)" novalidate>\r\n      <fieldset>\r\n        <div class="form-group">\r\n          <label for="product">Product</label>\r\n          <ui-select ng-model="$parent.purchase.product">\r\n            <ui-select-match>\r\n              <span ng-bind="$select.selected.title"></span>\r\n            </ui-select-match>\r\n            <ui-select-choices repeat="product in (products | filter: $select.search) track by product._id">\r\n              <span ng-bind="product.title"></span>\r\n            </ui-select-choices>\r\n          </ui-select>        \r\n        </div>\r\n        \r\n        <div class="form-group">\r\n          <label for="company">Company</label>\r\n          <ui-select ng-model="$parent.purchase.company">\r\n            <ui-select-match>\r\n              <span ng-bind="$select.selected.name"></span>\r\n            </ui-select-match>\r\n            <ui-select-choices repeat="company in (companies | filter: $select.search) track by company._id">\r\n              <span ng-bind="company.name"></span>\r\n            </ui-select-choices>\r\n          </ui-select>        \r\n        </div>\r\n        \r\n        <div class="form-group" show-errors>\r\n          <label for="price">Price</label>\r\n          <input name="price" type="number" ng-model="purchase.price" id="price" class="form-control" placeholder="Product price" required>\r\n          <div ng-messages="productForm.price.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Product price is required.</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class="form-group">\r\n          <label for="description">Comments</label>\r\n          <textarea name="description" ng-model="purchase.description" id="description" class="form-control" cols="30" rows="10" placeholder="Comments"></textarea>\r\n        </div>\r\n        \r\n        <div class="row">\r\n          <div class="col-md-2">       \r\n            <div class="">     \r\n              <label for="annualFee">Annual fee</label>   \r\n            </div>         \r\n          </div>              \r\n          <div class="col-md-2"> \r\n            <div class="">             \r\n              <label for="purchased">Purchase date</label> \r\n            </div>\r\n          </div>           \r\n        </div> \r\n        <div ng-repeat="annualFee in purchase.annualFees track by $index">\r\n          <edit-annual-fee annual-fee="annualFee" index="$index" removemethod="removeAnnualFee(annualFee)"></edit-annual-fee>\r\n        </div>\r\n        \r\n        <div class="form-group">\r\n          <input type="button" ng-click="addAnnualFee()" value="Add $$$" class="btn btn-default" />\r\n        </div>\r\n        \r\n        <div class="form-group">\r\n          <input type="submit" value="Update" class="btn btn-default">\r\n        </div>\r\n        <div ng-show="error" class="text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/purchases/views/list-purchases.client.view.html",'<section ng-controller="PurchasesController" ng-init="find()">\r\n  <div class="page-header">\r\n    <div class="row">\r\n      <div class="col-md-4">\r\n        <h1>Purchases</h1>\r\n      </div>\r\n      <div class="col-md-4" style="margin-top: 2em">\r\n        <input class="form-control col-md-4" type="text" ng-model="search" placeholder="Search" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="list-group">\r\n    <a ng-repeat="purchase in purchases | filter:search" ui-sref="purchases.view({purchaseId: purchase._id})" class="list-group-item" set-sss-status expires="purchase.annualFees[0].expires">\r\n      <small class="list-group-item-text pull-right">\r\n        Created on\r\n        <span ng-bind="purchase.created | date:\'mediumDate\'"></span>\r\n        by\r\n        <span ng-bind="purchase.createdBy.displayName"></span>\r\n      </small>\r\n     <h4 class="list-group-item-heading">\r\n        {{purchase.product.title}} - {{purchase.company.name}}\r\n      </h4>      \r\n      <p class="list-group-item-text">       \r\n        <b>Price:</b> {{purchase.price}}   \r\n        <b>Annual fee:</b> {{purchase.annualFees[0].fee}}          \r\n        <b>$$$ expires:</b> {{purchase.annualFees[0].expires | date:\'dd.MM.yyyy\'}}     \r\n      </p>\r\n    </a>\r\n  </div>\r\n  <div class="alert alert-warning text-center" ng-if="purchases.$resolved && !purchases.length">\r\n    No purchases yet, why don\'t you <a ui-sref="purchases.create">create one</a>?\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/purchases/views/view-purchase.client.view.html",'<section ng-controller="PurchasesController" ng-init="findOne()">\r\n  <div class="page-header">\r\n    <h1>{{purchase.product.title}} - {{purchase.company.name}}</h1>\r\n  </div>\r\n  <div class="pull-right" ng-show="authentication.user._id == purchase.createdBy._id">\r\n    <a class="btn btn-primary" ui-sref="purchases.edit({purchaseId: purchase._id})">\r\n      <i class="glyphicon glyphicon-edit"></i>\r\n    </a>\r\n    <a class="btn btn-primary" ng-click="remove();">\r\n      <i class="glyphicon glyphicon-trash"></i>\r\n    </a>\r\n  </div>\r\n  <!--<small>\r\n    <em class="text-muted">\r\n      Posted on\r\n      <span ng-bind="purchase.created | date:\'mediumDate\'"></span>\r\n      by\r\n      <span ng-bind="purchase.createdBy.displayName"></span>\r\n    </em>\r\n  </small>-->\r\n  <div class="row"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Price:</b></p>\r\n    </div>\r\n    <div class="col-md-2"> \r\n      <p class="lead">{{purchase.price}}</p>\r\n    </div>\r\n  </div>\r\n  <div class="row" ng-if="purchase.description"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Comment:</b></p>\r\n    </div>\r\n    <div class="col-md-2"> \r\n      <p class="lead">{{purchase.description}}</p>\r\n    </div>\r\n  </div>\r\n  <div class="row"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Annual Fee:</b></p>\r\n    </div>\r\n    <div class="col-md-4"> \r\n      <table class="table table-striped table-condensed table-bordered">\r\n        <thead>\r\n          <tr>\r\n            <th>Fee</th>\r\n            <th>Purchased</th>\r\n            <th>Expires</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody ng-repeat="annualFee in purchase.annualFees">\r\n          <tr set-sss-status="table" expires="annualFee.expires">\r\n            <td>{{annualFee.fee}}</td>\r\n            <td>{{annualFee.purchased | date:\'dd.MM.yyyy\'}}</td>\r\n            <td>{{annualFee.expires | date:\'dd.MM.yyyy\'}}</td>\r\n          </tr>          \r\n        </tbody>\r\n    </div>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/products/views/create-product.client.view.html",'<section ng-controller="ProductsController" ng-init="findUsers()">\r\n  <div class="page-header">\r\n    <h1>New Product</h1>\r\n  </div>\r\n  <div class="col-md-12">\r\n    <form name="productForm" class="form-horizontal" ng-submit="create(productForm.$valid)" novalidate>\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="title">Title</label>\r\n          <input name="title" type="text" ng-model="title" id="title" class="form-control" placeholder="Title" required>\r\n          <div ng-messages="productForm.title.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Product title is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="code">Code</label>\r\n          <input name="code" type="text" ng-model="code" id="code" class="form-control" placeholder="Product code" required>\r\n          <div ng-messages="productForm.code.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Product code is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="price">Price</label>\r\n          <input name="price" type="number" ng-model="price" ng-change="annualFee = (price * 0.20)" id="price" class="form-control" placeholder="Product price" required>\r\n          <div ng-messages="productForm.price.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Product price is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="annualFee">Annual Fee</label>\r\n          <input name="annualFee" type="number" ng-model="annualFee" id="annualFee" class="form-control" placeholder="Product $$$" required>\r\n          <div ng-messages="productForm.annualFee.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Product $$$ is required.</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class="form-group">\r\n          <label for="owner">Product Owner</label>\r\n          <ui-select ng-model="$parent.selectedUser">\r\n            <ui-select-match>\r\n              <span ng-bind="$select.selected.displayName"></span>\r\n            </ui-select-match>\r\n            <ui-select-choices repeat="user in (users | filter: $select.search) track by user._id">\r\n              <span ng-bind="user.displayName"></span>\r\n            </ui-select-choices>\r\n          </ui-select>        \r\n        </div>\r\n        \r\n        <div class="row">\r\n          <div class="col-md-2">\r\n            <div class="form-group" show-errors>\r\n              <label for="version">Version</label>\r\n              <input name="version" type="text" ng-model="version" id="version" class="form-control" placeholder="Product version" required>\r\n              <div ng-messages="productForm.version.$error" role="alert">\r\n                <p class="help-block error-text" ng-message="required">Product version is required.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-2">\r\n            <div class="form-group" show-errors>\r\n              <label for="released">Release date</label>\r\n              <p class="input-group">\r\n                <input name="released" type="text" ng-model="released" ng-init="released = today()" id="released" class="form-control" placeholder="Release date"  ng-required="true" uib-datepicker-popup="dd.MM.yyyy" is-open="openedCreate"  close-text="Close" />\r\n                <span class="input-group-btn">\r\n                  <button type="button" class="btn btn-default" ng-click="openCreate($event)"><i class="glyphicon glyphicon-calendar"></i></button>\r\n                </span>\r\n              </p>\r\n              <div ng-messages="productForm.released.$error" role="alert">\r\n                <p class="help-block error-text" ng-message="required">Release date is required.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n     \r\n        <div class="form-group">\r\n          <label for="description">Description</label>\r\n          <textarea name="description" ng-model="description" id="description" class="form-control" cols="30" rows="10" placeholder="Description"></textarea>\r\n        </div>\r\n        <div class="form-group">\r\n          <input type="submit" class="btn btn-default">\r\n        </div>\r\n        <div ng-show="error" class="text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),
$templateCache.put("modules/products/views/edit-product-version.client.view.html",'<div class="row">\r\n  <div class="col-md-2">\r\n    <div class="form-group" show-errors>\r\n      <input name="version{{vm.index}}" type="text" ng-model="vm.version.label" id="version{{vm.index}}" class="form-control" placeholder="Product version" required />\r\n      <div ng-messages="productForm.version.$error" role="alert">\r\n        <p class="help-block error-text" ng-message="required">Product version is required.</p>\r\n      </div>\r\n    </div>\r\n  </div>              \r\n  <div class="col-md-2">\r\n    <div class="form-group" show-errors>\r\n      <p class="input-group">\r\n        <input name="released{{vm.index}}" type="text" ng-model="vm.version.released" id="released{{vm.index}}" class="form-control" placeholder="Release date" ng-required="true" uib-datepicker-popup="dd.MM.yyyy" is-open="vm.opened"  close-text="Close" />\r\n        <span class="input-group-btn">\r\n          <button type="button" class="btn btn-default" ng-click="vm.open($event)"><i class="glyphicon glyphicon-calendar"></i></button>\r\n        </span>\r\n      </p>\r\n      <div ng-messages="productForm.released.$error" role="alert">\r\n        <p class="help-block error-text" ng-message="required">Release date is required.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="col-md-1">\r\n    <input type="button" ng-click="vm.remove()" value="Remove" class="btn btn-default" />\r\n  </div>\r\n</div>'),$templateCache.put("modules/products/views/edit-product.client.view.html",'<section ng-controller="ProductsController" ng-init="findOne(); findUsers();">\r\n  <div class="page-header">\r\n    <h1>Edit Product</h1>\r\n  </div>\r\n  <div class="col-md-12">\r\n    <form name="productForm" class="form-horizontal" ng-submit="update(productForm.$valid)" novalidate>\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="title">Title</label>\r\n          <input name="title" type="text" ng-model="product.title" id="title" class="form-control" placeholder="Title" required>\r\n          <div ng-messages="productForm.title.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Product title is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="code">Code</label>\r\n          <input name="code" type="text" ng-model="product.code" id="code" class="form-control" placeholder="Product code" required>\r\n          <div ng-messages="productForm.code.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Product code is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="price">Price</label>\r\n          <input name="price" type="number" ng-model="product.price" id="price" class="form-control" placeholder="Product price" required>\r\n          <div ng-messages="productForm.price.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Product price is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="annualFee">Annual Fee</label>\r\n          <input name="annualFee" type="text" ng-model="product.annualFee" id="annualFee" class="form-control" placeholder="Product $$$" required>\r\n          <div ng-messages="productForm.annualFee.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Product $$$ is required.</p>\r\n          </div>\r\n        </div>     \r\n        \r\n        <div class="form-group">\r\n          <label for="owner">Product Owner</label>\r\n          <ui-select ng-model="$parent.product.owner">\r\n            <ui-select-match>\r\n              <span ng-bind="$select.selected.displayName"></span>\r\n            </ui-select-match>\r\n            <ui-select-choices repeat="user in (users | filter: $select.search) track by user._id">\r\n              <span ng-bind="user.displayName"></span>\r\n            </ui-select-choices>\r\n          </ui-select>        \r\n        </div>\r\n        \r\n        <div class="form-group">\r\n          <label for="description">Description</label>\r\n          <textarea name="description" ng-model="product.description" id="description" class="form-control" cols="30" rows="10" placeholder="Description"></textarea>\r\n        </div>\r\n           \r\n        <div class="row">\r\n          <div class="col-md-2">       \r\n            <div class="form-group">     \r\n              <label for="version">Version</label>   \r\n            </div>         \r\n          </div>              \r\n          <div class="col-md-2"> \r\n            <div class="form-group">             \r\n              <label for="released">Release date</label> \r\n            </div>\r\n          </div>           \r\n        </div>\r\n        <div ng-repeat="version in product.versions track by $index">\r\n          <edit-versions version="version" index="$index" removemethod="removeVersion(version)"></edit-versions>\r\n        </div>\r\n        \r\n        <div class="form-group">         \r\n          <input type="button" ng-click="addVersion()" value="Add version" class="btn btn-default" />          \r\n        </div>\r\n\r\n        <div class="form-group">\r\n          <input type="submit" value="Update" class="btn btn-default">\r\n        </div>\r\n        <div ng-show="error" class="text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/products/views/list-products.client.view.html",'<section ng-controller="ProductsController" ng-init="find()">\r\n  <div class="page-header">\r\n    <div class="row">\r\n      <div class="col-md-4">\r\n        <h1>Products</h1>\r\n      </div>\r\n      <div class="col-md-4" style="margin-top: 2em">\r\n        <input class="form-control col-md-4" type="text" ng-model="search" placeholder="Search" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="list-group">\r\n    <a ng-repeat="product in products | filter:search" ui-sref="products.view({productId: product._id})" class="list-group-item">\r\n      <!--<small class="list-group-item-text pull-right">\r\n        Created on\r\n        <span ng-bind="product.created | date:\'mediumDate\'"></span>\r\n        by\r\n        <span ng-bind="product.createdBy.displayName"></span>\r\n      </small>-->\r\n      <h4 class="list-group-item-heading">\r\n        {{product.title}} \r\n        <span class="small">{{product.code}}</span> \r\n      </h4>      \r\n      <p class="list-group-item-text">       \r\n        <b>Price:</b> {{product.price}}\r\n        <b>Annual:</b> {{product.annualFee}}\r\n        <b>Owner:</b> {{product.owner.displayName}}\r\n        <b>Latest version:</b> {{product.versions[0].label}}\r\n      </p>\r\n    </a>\r\n  </div>\r\n  <div class="alert alert-warning text-center" ng-if="products.$resolved && !products.length">\r\n    No products yet, why don\'t you <a ui-sref="products.create">create one</a>?\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/products/views/view-product.client.view.html",'<section ng-controller="ProductsController" ng-init="findOne(); findPurchases();">\r\n  <div class="page-header">\r\n    <h1>{{product.title}} <small>{{product.code}}</small></h1>\r\n  </div>\r\n  <div class="pull-right" ng-show="authentication.user._id == product.createdBy._id">\r\n    <a class="btn btn-primary" ui-sref="products.edit({productId: product._id})">\r\n      <i class="glyphicon glyphicon-edit"></i>\r\n    </a>\r\n    <a class="btn btn-primary" ng-click="remove();">\r\n      <i class="glyphicon glyphicon-trash"></i>\r\n    </a>\r\n  </div>\r\n  <!--<small>\r\n    <em class="text-muted">\r\n      Posted on\r\n      <span ng-bind="product.created | date:\'mediumDate\'"></span>\r\n      by\r\n      <span ng-bind="product.createdBy.displayName"></span>\r\n    </em>\r\n  </small>-->\r\n  <div class="row"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Price:</b></p>\r\n    </div>\r\n    <div class="col-md-2"> \r\n      <p class="lead">{{product.price}}</p>\r\n    </div>\r\n  </div>\r\n  <div class="row"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Annual Fee:</b></p>\r\n    </div>\r\n    <div class="col-md-2"> \r\n      <p class="lead">{{product.annualFee}}</p>\r\n    </div>\r\n  </div>\r\n  <div class="row"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Owner:</b></p>\r\n    </div>\r\n    <div class="col-md-2"> \r\n      <p class="lead">{{product.owner.displayName}}</p>\r\n    </div>\r\n  </div>\r\n  <div class="row" ng-if="product.description"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Description:</b></p>\r\n    </div>\r\n    <div class="col-md-2"> \r\n      <p class="lead">{{product.description}}</p>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class="row"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Versions:</b></p>\r\n    </div>\r\n    <div class="col-md-4"> \r\n      <table class="table table-striped table-condensed table-bordered">\r\n        <thead>\r\n          <tr>\r\n            <th>Version</th>\r\n            <th>Released</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr ng-repeat="version in product.versions">\r\n            <td>{{version.label}} </td>\r\n            <td>{{version.released | date:\'dd.MM.yyyy\'}}</td>\r\n          </tr>          \r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  \r\n   <div class="row"> \r\n    <div class="col-md-2"> \r\n      <p class="lead"><b>Purchases:</b></p>\r\n    </div>   \r\n  </div>\r\n  <div class="list-group">\r\n    <a ng-repeat="purchase in purchases | filter:search" ui-sref="purchases.view({purchaseId: purchase._id})" class="list-group-item" set-sss-status expires="purchase.annualFees[0].expires">\r\n      <small class="list-group-item-text pull-right">\r\n        Created on\r\n        <span ng-bind="purchase.created | date:\'mediumDate\'"></span>\r\n        by\r\n        <span ng-bind="purchase.createdBy.displayName"></span>\r\n      </small>\r\n     <h4 class="list-group-item-heading">\r\n        {{purchase.company.name}}\r\n      </h4>      \r\n      <p class="list-group-item-text">       \r\n        <b>Price:</b> {{purchase.price}}   \r\n        <b>Annual fee:</b> {{purchase.annualFees[0].fee}}          \r\n        <b>$$$ expires:</b> {{purchase.annualFees[0].expires | date:\'dd.MM.yyyy\'}}     \r\n      </p>\r\n    </a>\r\n  </div>\r\n   \r\n   \r\n  \r\n</section>\r\n'),$templateCache.put("modules/reports/views/list-reports.client.view.html",'<section ng-controller="ReportsController" ng-init="find()">\r\n  <div class="page-header">\r\n    <div class="row">\r\n      <div class="col-md-4">\r\n        <h1>Reports</h1>\r\n      </div>\r\n      <div class="col-md-4" style="margin-top: 2em">\r\n        <input class="form-control col-md-4" type="text" ng-model="search" placeholder="Search" />\r\n      </div>\r\n      <div class="col-md-4" style="margin-top: 2em">\r\n        <input class="btn btn-default" type="button" value="Toggle report" ng-click="changeReport()" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class="alert alert-success text-center">\r\n    <div class="row">\r\n      <div class="col-md-4">\r\n        <span class="lead">\r\n        Sum price: <b>{{ getUberTotal(reports, 1)}}</b>\r\n        </span>\r\n      </div>\r\n      <div class="col-md-4">\r\n        <span class="lead">\r\n        Sum annual: <b>{{ getUberTotal(reports, 2)}}</b>\r\n        </span>\r\n      </div>\r\n      <div class="col-md-4">\r\n        <span class="lead">\r\n        Total: <b>{{ getUberTotal(reports, 3)}}</b>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <uib-accordion close-others="">\r\n    <uib-accordion-group ng-repeat="report in reports | filter:search" heading="" is-open="" is-disabled="">\r\n      <uib-accordion-heading>\r\n        <!--<div class="row">\r\n           <div class="col-md-6">\r\n        {{report.header}} <span class="small pull-right"> Price: {{ getTotal(report, 1)}} Annual: {{ getTotal(report, 2)}} Total: {{ getTotal(report, 3)}} </span>\r\n     </div>\r\n     </div>-->\r\n     \r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <b>{{report.header}}</b>\r\n        </div>\r\n       <div class="col-md-2 small">\r\n        Sum price: <b>{{ getTotal(report, 1)}}</b>\r\n      </div>\r\n      <div class="col-md-2 small">\r\n        Sum annual: <b>{{ getTotal(report, 2)}}</b>\r\n      </div>\r\n      <div class="col-md-2 small">\r\n        Total: <b>{{ getTotal(report, 3)}}</b>\r\n      </div>\r\n    </div>\r\n     \r\n      </uib-accordion-heading>\r\n      <table class="table table-striped table-condensed table-bordered" ng-repeat="item in report.content" >\r\n      <thead>\r\n        <tr>\r\n          <th ng-if="!reportByCompany" class="col-md-10">{{item.company.name}}</th>\r\n          <th ng-if="reportByCompany" class="col-md-10">{{item.product.title}}</th>\r\n          <th class="col-md-2">{{ getSubTotal(item, 3)}}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody class="small">    \r\n         <tr>   \r\n          <td><b>Price</b></td>      \r\n          <td><b>{{item.price}}</b></td>         \r\n        </tr>       \r\n        <tr ng-repeat="annual in item.annualFees">          \r\n          <td>Annual per {{annual.purchased | date:\'dd.MM.yyyy\'}}</td>\r\n          <td>{{annual.fee}}</td>     \r\n        </tr>          \r\n      </tbody>  \r\n      <tfoot class="small">\r\n        <tr>\r\n          <td><b>Sum annual</td>\r\n          <td><b>{{ getSubTotal(item, 2)}}</b></td>\r\n        </tr>\r\n      </tfoot>   \r\n    </table>\r\n    </uib-accordion-group>   \r\n  </uib-accordion>\r\n</section>\r\n'),$templateCache.put("modules/reports/views/view-report.client.view.html",'<section ng-controller="ReportsController" ng-init="findOne()">\r\n  <div class="page-header">\r\n    <h1 ng-bind="report.title"></h1>\r\n  </div>\r\n  <div class="pull-right" ng-show="authentication.user._id == report.user._id">\r\n    <a class="btn btn-primary" ui-sref="reports.edit({reportId: report._id})">\r\n      <i class="glyphicon glyphicon-edit"></i>\r\n    </a>\r\n    <a class="btn btn-primary" ng-click="remove();">\r\n      <i class="glyphicon glyphicon-trash"></i>\r\n    </a>\r\n  </div>\r\n  <small>\r\n    <em class="text-muted">\r\n      Posted on\r\n      <span ng-bind="report.created | date:\'mediumDate\'"></span>\r\n      by\r\n      <span ng-bind="report.user.displayName"></span>\r\n    </em>\r\n  </small>\r\n  <p class="lead" ng-bind="report.content"></p>\r\n</section>\r\n'),$templateCache.put("modules/users/views/admin/edit-user.client.view.html",'<section>\r\n  <div class="page-header">\r\n    <h1>User <span ng-bind="user.username"></span></h1>\r\n  </div>\r\n  <div class="col-md-12">\r\n    <form name="userForm" ng-submit="update(userForm.$valid)" novalidate>\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="firstName">First Name</label>\r\n          <input type="text" id="firstName" name="firstName" class="form-control" ng-model="user.firstName" placeholder="First Name" required />\r\n          <div ng-messages="userForm.firstName.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">First name is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="lastName">Last Name</label>\r\n          <input type="text" id="lastName" name="lastName" class="form-control" ng-model="user.lastName" placeholder="Last Name" required />\r\n          <div ng-messages="userForm.lastName.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Last name is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label class="control-label" for="roles">Roles</label>\r\n          <div class="controls">\r\n            <input class="form-control" type="text" name="roles" ng-model="user.roles" id="roles" ng-list required />\r\n            <div ng-messages="userForm.roles.$error" role="alert">\r\n              <p class="help-block error-text" ng-message="required">At least one role is required.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="form-group">\r\n          <input type="submit" value="Update" class="btn btn-default">\r\n        </div>\r\n        <div ng-show="error" class="text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/users/views/admin/list-users.client.view.html",'<section>\r\n  <div class="page-header">\r\n    <div class="row">\r\n      <div class="col-md-4">\r\n        <h1>Users</h1>\r\n      </div>\r\n      <div class="col-md-4" style="margin-top: 2em">\r\n        <input class="form-control col-md-4" type="text" ng-model="search" placeholder="Search" ng-change="figureOutItemsToDisplay()" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="list-group">\r\n    <a ng-repeat="user in pagedItems" ui-sref="admin.user({userId: user._id})" class="list-group-item">\r\n      <h4 class="list-group-item-heading" ng-bind="user.username"></h4>\r\n      <p class="list-group-item-text pull-right small" ng-bind="user.roles"></p>\r\n      <p class="list-group-item-text" ng-bind="user.email"></p>\r\n    </a>\r\n  </div>\r\n\r\n  <pagination boundary-links="true" max-size="8" items-per-page="itemsPerPage" total-items="filterLength" ng-model="currentPage" ng-change="pageChanged()"></pagination>\r\n</section>\r\n'),$templateCache.put("modules/users/views/admin/view-user.client.view.html",'<section>\r\n  <div class="page-header">\r\n    <div class="row">\r\n      <div class="col-md-6">\r\n        <h1 ng-bind="user.username"></h1>\r\n      </div>\r\n      <div class="col-md-4">\r\n        <a class="btn btn-primary" ui-sref="admin.user-edit({userId: user._id})">\r\n          <i class="glyphicon glyphicon-edit"></i>\r\n        </a>\r\n        <a class="btn btn-primary" ng-click="remove();" ng-if="user._id !== authentication.user._id">\r\n          <i class="glyphicon glyphicon-trash"></i>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="row">\r\n    <div class="col-md-8">\r\n      <div class="row">\r\n        <div class="col-md-3"><strong>First Name</strong></div>\r\n        <div class="col-md-6" ng-bind="user.firstName"></div>\r\n      </div>\r\n      <hr/>\r\n      <div class="row">\r\n        <div class="col-md-3"><strong>Last Name</strong></div>\r\n        <div class="col-md-6" ng-bind="user.lastName"></div>\r\n      </div>\r\n      <hr/>\r\n      <div class="row">\r\n        <div class="col-md-3"><strong>Email</strong></div>\r\n        <div class="col-md-6" ng-bind="user.email"></div>\r\n      </div>\r\n      <hr/>\r\n      <div class="row">\r\n        <div class="col-md-3"><strong>Provider</strong></div>\r\n        <div class="col-md-6" ng-bind="user.provider"></div>\r\n      </div>\r\n      <hr/>\r\n      <div class="row">\r\n        <div class="col-md-3"><strong>Created</strong></div>\r\n        <div class="col-md-6" ng-bind="user.created"></div>\r\n      </div>\r\n      <hr/>\r\n      <div class="row">\r\n        <div class="col-md-3"><strong>Roles</strong></div>\r\n        <div class="col-md-6" ng-bind="user.roles"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/users/views/authentication/authentication.client.view.html",'<section class="row" ng-controller="AuthenticationController">\r\n  <h3 class="col-md-12 text-center">Sign in using your social accounts</h3>\r\n  <div class="col-md-12 text-center">\r\n    <img ng-click="callOauthProvider(\'/api/auth/facebook\')" ng-src="/modules/users/client/img/buttons/facebook.png">\r\n    <img ng-click="callOauthProvider(\'/api/auth/twitter\')" ng-src="/modules/users/client/img/buttons/twitter.png">\r\n    <img ng-click="callOauthProvider(\'/api/auth/google\')" ng-src="/modules/users/client/img/buttons/google.png">\r\n    <img ng-click="callOauthProvider(\'/api/auth/linkedin\')" ng-src="/modules/users/client/img/buttons/linkedin.png">\r\n    <img ng-click="callOauthProvider(\'/api/auth/github\')" ng-src="/modules/users/client/img/buttons/github.png">\r\n    <img ng-click="callOauthProvider(\'/api/auth/paypal\')"  ng-src="/modules/users/client/img/buttons/paypal.png">\r\n  </div>\r\n  <div ui-view></div>\r\n</section>\r\n'),$templateCache.put("modules/users/views/authentication/signin.client.view.html",'<div ng-controller="AuthenticationController">\r\n  <h3 class="col-md-12 text-center">Or with your account</h3>\r\n  <div class="col-xs-offset-2 col-xs-8 col-md-offset-4 col-md-4">\r\n    <form name="userForm" ng-submit="signin(userForm.$valid)" class="signin" novalidate autocomplete="off">\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="username">Username</label>\r\n          <input type="text" id="username" name="username" class="form-control" ng-model="credentials.username" placeholder="Username" lowercase required>\r\n          <div ng-messages="userForm.username.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Username is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="password">Password</label>\r\n          <input type="password" id="password" name="password" class="form-control" ng-model="credentials.password" placeholder="Password" required>\r\n          <div ng-messages="userForm.password.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Password is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="text-center form-group">\r\n          <button type="submit" class="btn btn-primary">Sign in</button>\r\n          &nbsp; or&nbsp;\r\n          <a ui-sref="authentication.signup">Sign up</a>\r\n        </div>\r\n        <div class="text-center forgot-password">\r\n          <a ui-sref="password.forgot">Forgot your password?</a>\r\n        </div>\r\n        <alert type="danger" ng-show="error" class="text-center text-danger">\r\n          <span ng-bind="error"></span>\r\n        </alert>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</div>\r\n'),$templateCache.put("modules/users/views/authentication/signup.client.view.html",'<div ng-controller="AuthenticationController">\r\n  <h3 class="col-md-12 text-center">Or sign up using your email</h3>\r\n  <div class="col-xs-offset-2 col-xs-8 col-md-offset-4 col-md-4">\r\n    <form name="userForm" ng-submit="signup(userForm.$valid)" class="signin" novalidate autocomplete="off">\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="firstName">First Name</label>\r\n          <input type="text" id="firstName" name="firstName" class="form-control" ng-model="credentials.firstName" placeholder="First Name" required>\r\n          <div ng-messages="userForm.firstName.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">First name is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="lastName">Last Name</label>\r\n          <input type="text" id="lastName" name="lastName" class="form-control" ng-model="credentials.lastName" placeholder="Last Name" required>\r\n          <div ng-messages="userForm.lastName.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Last name is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="email">Email</label>\r\n          <input type="email" id="email" name="email" class="form-control" ng-model="credentials.email" placeholder="Email" lowercase required>\r\n          <div ng-messages="userForm.email.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Email address is required.</p>\r\n            <p class="help-block error-text" ng-message="email">Email address is invalid.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="username">Username</label>\r\n          <input type="text" id="username" name="username" class="form-control" ng-model="credentials.username" placeholder="Username" lowercase required>\r\n          <div ng-messages="userForm.username.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Username is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="password">Password</label>\r\n          <input type="password" id="password" name="password" class="form-control" ng-model="credentials.password" placeholder="Password" required ng-minlength="6">\r\n          <div ng-messages="userForm.password.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Password is required.</p>\r\n            <p class="help-block error-text" ng-message="minlength">Password is too short.</p>\r\n          </div>\r\n        </div>\r\n        <div class="text-center form-group">\r\n          <button type="submit" class="btn btn-large btn-primary">Sign up</button>\r\n          &nbsp; or&nbsp;\r\n          <a ui-sref="authentication.signin" class="show-signup">Sign in</a>\r\n        </div>\r\n        <div ng-show="error" class="text-center text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</div>\r\n'),$templateCache.put("modules/users/views/password/forgot-password.client.view.html",'<section class="row" ng-controller="PasswordController">\r\n  <h3 class="col-md-12 text-center">Restore your password</h3>\r\n  <p class="small text-center">Enter your account username.</p>\r\n  <div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2">\r\n    <form ng-submit="askForPasswordReset()" class="form-horizontal" autocomplete="off">\r\n      <fieldset>\r\n        <div class="form-group">\r\n          <input type="text" id="username" name="username" class="form-control" ng-model="credentials.username" placeholder="Username" lowercase>\r\n        </div>\r\n        <div class="text-center form-group">\r\n          <button type="submit" class="btn btn-primary">Submit</button>\r\n        </div>\r\n        <div ng-show="error" class="text-center text-danger">\r\n          <strong>{{error}}</strong>\r\n        </div>\r\n        <div ng-show="success" class="text-center text-success">\r\n          <strong>{{success}}</strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/users/views/password/reset-password-invalid.client.view.html",'<section class="row text-center">\r\n  <h3 class="col-md-12">Password reset is invalid</h3>\r\n  <a ui-sref="password.forgot" class="col-md-12">Ask for a new password reset</a>\r\n</section>\r\n'),$templateCache.put("modules/users/views/password/reset-password-success.client.view.html",'<section class="row text-center">\r\n  <h3 class="col-md-12">Password successfully reset</h3>\r\n  <a ui-sref="home" class="col-md-12">Continue to home page</a>\r\n</section>\r\n'),$templateCache.put("modules/users/views/password/reset-password.client.view.html",'<section class="row" ng-controller="PasswordController">\r\n  <h3 class="col-md-12 text-center">Reset your password</h3>\r\n  <div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2">\r\n    <form ng-submit="resetUserPassword()" class="signin form-horizontal" autocomplete="off">\r\n      <fieldset>\r\n        <div class="form-group">\r\n          <label for="newPassword">New Password</label>\r\n          <input type="password" id="newPassword" name="newPassword" class="form-control" ng-model="passwordDetails.newPassword" placeholder="New Password">\r\n        </div>\r\n        <div class="form-group">\r\n          <label for="verifyPassword">Verify Password</label>\r\n          <input type="password" id="verifyPassword" name="verifyPassword" class="form-control" ng-model="passwordDetails.verifyPassword" placeholder="Verify Password">\r\n        </div>\r\n        <div class="text-center form-group">\r\n          <button type="submit" class="btn btn-lg btn-primary">Update Password</button>\r\n        </div>\r\n        <div ng-show="error" class="text-center text-danger">\r\n          <strong>{{error}}</strong>\r\n        </div>\r\n        <div ng-show="success" class="text-center text-success">\r\n          <strong>{{success}}</strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/users/views/settings/change-password.client.view.html",'<section class="row" ng-controller="ChangePasswordController">\r\n  <div class="col-xs-offset-1 col-xs-10 col-md-offset-4 col-md-4">\r\n    <form name="passwordForm" ng-submit="changeUserPassword(passwordForm.$valid)" class="signin" novalidate autocomplete="off">\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="currentPassword">Current Password</label>\r\n          <input type="password" id="currentPassword" name="currentPassword" class="form-control" ng-model="passwordDetails.currentPassword" placeholder="Current Password" required>\r\n          <div ng-messages="passwordForm.currentPassword.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Your current password is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="newPassword">New Password</label>\r\n          <input type="password" id="newPassword" name="newPassword" class="form-control" ng-model="passwordDetails.newPassword" placeholder="New Password" required>\r\n          <div ng-messages="passwordForm.newPassword.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Enter a new password.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="verifyPassword">Verify Password</label>\r\n          <input type="password" id="verifyPassword" name="verifyPassword" class="form-control" ng-model="passwordDetails.verifyPassword" placeholder="Verify Password" required>\r\n          <div ng-messages="passwordForm.verifyPassword.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Verify your new password.</p>\r\n          </div>\r\n        </div>\r\n        <div class="text-center form-group">\r\n          <button type="submit" class="btn btn-lg btn-primary">Save Password</button>\r\n        </div>\r\n        <div ng-show="success" class="text-center text-success">\r\n          <strong>Password Changed Successfully</strong>\r\n        </div>\r\n        <div ng-show="error" class="text-center text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/users/views/settings/change-profile-picture.client.view.html",'<section class="row" ng-controller="ChangeProfilePictureController">\r\n  <div class="col-xs-offset-1 col-xs-10 col-md-offset-3 col-md-4">\r\n    <form class="signin form-horizontal">\r\n      <fieldset>\r\n        <div class="form-group text-center">\r\n          <img ng-src="{{imageURL}}" alt="{{user.displayName}}" class="img-thumbnail user-profile-picture">\r\n        </div>\r\n        <div class="text-center form-group" ng-hide="uploader.queue.length">\r\n          <span class="btn btn-default btn-file">\r\n              Select Image <input type="file" nv-file-select uploader="uploader">\r\n          </span>\r\n        </div>\r\n        <div class="text-center form-group" ng-show="uploader.queue.length">\r\n          <button class="btn btn-primary" ng-click="uploadProfilePicture();">Upload</button>\r\n          <button class="btn btn-default" ng-click="cancelUpload();">Cancel</button>\r\n        </div>\r\n        <div ng-show="success" class="text-center text-success">\r\n          <strong>Profile Picture Changed Successfully</strong>\r\n        </div>\r\n        <div ng-show="error" class="text-center text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),
$templateCache.put("modules/users/views/settings/edit-profile.client.view.html",'<section class="row" ng-controller="EditProfileController">\r\n  <div class="col-xs-offset-1 col-xs-10 col-md-offset-4 col-md-4">\r\n    <form name="userForm" ng-submit="updateUserProfile(userForm.$valid)" class="signin" novalidate autocomplete="off">\r\n      <fieldset>\r\n        <div class="form-group" show-errors>\r\n          <label for="firstName">First Name</label>\r\n          <input type="text" id="firstName" name="firstName" class="form-control" ng-model="user.firstName" placeholder="First Name" required>\r\n          <div ng-messages="userForm.firstName.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">First name is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="lastName">Last Name</label>\r\n          <input type="text" id="lastName" name="lastName" class="form-control" ng-model="user.lastName" placeholder="Last Name" required>\r\n          <div ng-messages="userForm.lastName.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Last name is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="email">Email</label>\r\n          <input type="email" id="email" name="email" class="form-control" ng-model="user.email" placeholder="Email" lowercase required>\r\n          <div ng-messages="userForm.email.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Email address is required.</p>\r\n            <p class="help-block error-text" ng-message="email">Email address is invalid.</p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group" show-errors>\r\n          <label for="username">Username</label>\r\n          <input type="text" id="username" name="username" class="form-control" ng-model="user.username" placeholder="Username" lowercase required>\r\n          <div ng-messages="userForm.username.$error" role="alert">\r\n            <p class="help-block error-text" ng-message="required">Username is required.</p>\r\n          </div>\r\n        </div>\r\n        <div class="text-center form-group">\r\n          <button type="submit" class="btn btn-lg btn-primary">Save Profile</button>\r\n        </div>\r\n        <div ng-show="success" class="text-center text-success">\r\n          <strong>Profile Saved Successfully</strong>\r\n        </div>\r\n        <div ng-show="error" class="text-center text-danger">\r\n          <strong ng-bind="error"></strong>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/users/views/settings/manage-social-accounts.client.view.html",'<section class="row" ng-controller="SocialAccountsController">\r\n  <h3 class="col-md-12 text-center" ng-show="hasConnectedAdditionalSocialAccounts()">Connected social accounts:</h3>\r\n  <div class="col-md-12 text-center">\r\n    <div ng-repeat="(providerName, providerData) in user.additionalProvidersData" class="social-account-container">\r\n      <img ng-src="/modules/users/client/img/buttons/{{providerName}}.png">\r\n      <a class="btn btn-danger btn-remove-account" ng-click="removeUserSocialAccount(providerName)">\r\n        <i class="glyphicon glyphicon-trash"></i>\r\n      </a>\r\n    </div>\r\n  </div>\r\n  <h3 class="col-md-12 text-center" ng-show="hasConnectedAdditionalSocialAccounts()">Unconnected social accounts:</h3>\r\n  <div class="col-md-12 text-center">\r\n    <div class="social-account-container" ng-hide="isConnectedSocialAccount(\'facebook\')">\r\n      <img ng-src="/modules/users/client/img/buttons/facebook.png">\r\n      <a class="btn btn-success btn-remove-account" href="/api/auth/facebook" target="_self">\r\n        <i class="glyphicon glyphicon-plus"></i>\r\n      </a>\r\n    </div>\r\n    <div class="social-account-container" ng-hide="isConnectedSocialAccount(\'twitter\')">\r\n      <img ng-src="/modules/users/client/img/buttons/twitter.png">\r\n      <a class="btn btn-success btn-remove-account" href="/api/auth/twitter" target="_self">\r\n        <i class="glyphicon glyphicon-plus"></i>\r\n      </a>\r\n    </div>\r\n    <div class="social-account-container" ng-hide="isConnectedSocialAccount(\'google\')">\r\n      <img ng-src="/modules/users/client/img/buttons/google.png">\r\n      <a class="btn btn-success btn-remove-account" href="/api/auth/google" target="_self">\r\n        <i class="glyphicon glyphicon-plus"></i>\r\n      </a>\r\n    </div>\r\n    <div class="social-account-container" ng-hide="isConnectedSocialAccount(\'linkedin\')">\r\n      <img ng-src="/modules/users/client/img/buttons/linkedin.png">\r\n      <a class="btn btn-success btn-remove-account" href="/api/auth/linkedin" target="_self">\r\n        <i class="glyphicon glyphicon-plus"></i>\r\n      </a>\r\n    </div>\r\n    <div class="social-account-container" ng-hide="isConnectedSocialAccount(\'github\')">\r\n      <img ng-src="/modules/users/client/img/buttons/github.png">\r\n      <a class="btn btn-success btn-remove-account" href="/api/auth/github" target="_self">\r\n        <i class="glyphicon glyphicon-plus"></i>\r\n      </a>\r\n    </div>\r\n    <div class="social-account-container" ng-hide="isConnectedSocialAccount(\'paypal\')">\r\n      <img ng-src="/modules/users/client/img/buttons/paypal.png">\r\n      <a class="btn btn-success btn-remove-account" href="/api/auth/paypal" target="_self">\r\n        <i class="glyphicon glyphicon-plus"></i>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</section>\r\n'),$templateCache.put("modules/users/views/settings/settings.client.view.html",'<section ng-controller="SettingsController">\r\n  <div class="page-header">\r\n    <h1>Settings</h1>\r\n  </div>\r\n  <div class="row">\r\n    <nav class="col-sm-3 col-md-3">\r\n      <ul class="nav nav-pills nav-stacked">\r\n        <li ui-sref-active="active">\r\n          <a ui-sref="settings.profile">Edit Profile</a>\r\n        </li>\r\n        <li ui-sref-active="active">\r\n          <a ui-sref="settings.picture">Change Profile Picture</a>\r\n        </li>\r\n        <li ui-sref-active="active" ng-show="user.provider === \'local\'">\r\n          <a ui-sref="settings.password">Change Password</a>\r\n        </li>\r\n        <li ui-sref-active="active">\r\n          <a ui-sref="settings.accounts">Manage Social Accounts</a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n    <div class="col-sm-9 col-md-8 settings-view">\r\n      <div ui-view></div>\r\n    </div>\r\n  </div>\r\n</section>\r\n')}angular.module("core").run(templates),templates.$inject=["$templateCache"]}();