<section ng-controller="PurchasesController" ng-init="findOne()">
  <div class="page-header">
    <h1>{{purchase.product.title}} - {{purchase.company.name}}</h1>
  </div>
  <div class="pull-right" ng-show="authentication.user._id == purchase.createdBy._id">
    <a class="btn btn-primary" ui-sref="purchases.edit({purchaseId: purchase._id})">
      <i class="glyphicon glyphicon-edit"></i>
    </a>
    <a class="btn btn-primary" ng-click="remove();">
      <i class="glyphicon glyphicon-trash"></i>
    </a>
  </div>
  <!--<small>
    <em class="text-muted">
      Posted on
      <span ng-bind="purchase.created | date:'mediumDate'"></span>
      by
      <span ng-bind="purchase.createdBy.displayName"></span>
    </em>
  </small>-->
  <div class="row"> 
    <div class="col-md-2"> 
      <p class="lead"><b>Price:</b></p>
    </div>
    <div class="col-md-2"> 
      <p class="lead">{{purchase.price}}</p>
    </div>
  </div>
  <div class="row" ng-if="purchase.description"> 
    <div class="col-md-2"> 
      <p class="lead"><b>Comment:</b></p>
    </div>
    <div class="col-md-2"> 
      <p class="lead">{{purchase.description}}</p>
    </div>
  </div>
  <div class="row"> 
    <div class="col-md-2"> 
      <p class="lead"><b>Annual Fee:</b></p>
    </div>
    <div class="col-md-4"> 
      <table class="table table-striped table-condensed table-bordered">
        <thead>
          <tr>
            <th>Fee</th>
            <th>Purchased</th>
            <th>Expires</th>
          </tr>
        </thead>
        <tbody ng-repeat="annualFee in purchase.annualFees">
          <tr set-sss-status="table" expires="annualFee.expires">
            <td>{{annualFee.fee}}</td>
            <td>{{annualFee.purchased | date:'dd.MM.yyyy'}}</td>
            <td>{{annualFee.expires | date:'dd.MM.yyyy'}}</td>
          </tr>          
        </tbody>
    </div>
  </div>
</section>
